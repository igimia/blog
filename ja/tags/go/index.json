[{"content":"æ¦‚è¦ APIã«ãƒ•ã‚¡ã‚¤ãƒ«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚’æ©Ÿèƒ½è¿½åŠ ã™ã‚‹éš›ã€Goè¨€èªã®ginã‚’ä½¿ã†ã¨ã©ã‚“ãªæ„Ÿã˜ã«ã§ãã‚‹ã®ã‹æ°—ã«ãªã£ãŸã®ã§ã‚„ã£ã¦ã¿ãŸã€‚ãã®æ™‚ã®ãƒ¡ãƒ¢ã€‚\nãƒ•ã‚¡ã‚¤ãƒ«ã¯äº‹å‰ã«AWS S3ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ã‚‹æƒ³å®šã€‚\nãƒãƒ¼ã‚¸ãƒ§ãƒ³  Go: v1.13.4 gin: v1.7.1 aws-sdk-go: v1.38.36  S3ã‹ã‚‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ åˆã‚ã«AWS S3ã‹ã‚‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦å†…å®¹ã‚’æ¨™æº–å‡ºåŠ›ã™ã‚‹ã“ã¨ã‚’ã‚„ã£ã¦ã¿ã‚‹ã€‚\nãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã¯ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è½ã¨ã—ã¦ãã‚‹æ–¹å¼ã¨Streamã¨ã—ã¦æ‰±ã†æ–¹æ³•ã¨ã‚ã‚‹ã¿ãŸã„ã€‚\nãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹å¿…è¦ã¯ãªã„ã®ã§GetObjectã‚’åˆ©ç”¨ã™ã‚‹ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29  package main import ( \u0026#34;bytes\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/aws/aws-sdk-go/aws\u0026#34; \u0026#34;github.com/aws/aws-sdk-go/aws/session\u0026#34; \u0026#34;github.com/aws/aws-sdk-go/service/s3\u0026#34; ) func main() { sess := session.Must(session.NewSession(\u0026amp;aws.Config{ Region: aws.String(\u0026#34;ap-northeast-1\u0026#34;), })) s3handler := s3.New(sess) obj, _ := s3handler.GetObject(\u0026amp;s3.GetObjectInput{ Bucket: aws.String(\u0026#34;2021-test-bucket\u0026#34;), // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã„S3ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ã‚‹S3ãƒã‚±ãƒƒãƒˆ  Key: aws.String(\u0026#34;sample.txt\u0026#34;), // ã‚­ãƒ¼ (ãƒ•ã‚¡ã‚¤ãƒ«)å  }) body := obj.Body defer obj.Body.Close() buf := new(bytes.Buffer) buf.ReadFrom(body) fmt.Print(buf.String()) }   å®Ÿè¡Œã™ã‚‹ã¨ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ãŒè¡¨ç¤ºã•ã‚ŒãŸã€‚\n1 2  $ go run main.go # this is sample text   ginã‚’ä½¿ã£ã¦ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«åœ§ç¸®ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿”ã™ stackoverflowã«ãƒ•ã‚¡ã‚¤ãƒ«ã®åœ§ç¸®ã«ã¤ã„ã¦è³ªå•ã—ã¦ã„ã‚‹QAãŒã‚ã£ãŸï¼ˆstackoverflowï¼‰\nã“ã‚Œã¨ã€ã€Golangã€‘S3ä¸Šã®ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ¡ãƒ¢ãƒªä¸Šã«ä¹—ã›ãšã«ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã—ã¦ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¸æµã™ã€AWSã€‘ãŒéå¸¸ã«å‚è€ƒã«ãªã£ãŸã€‚\nãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«è¨­å®šã—ãŸzipã¸è¿½åŠ ã—ãŸfileã®Writerã«S3ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸobjectã®Readerã‚’æµã—ã¦ã„ã‚‹ã€‚\nS3ã®ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã‚Šã€zipãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹ã“ã¨ãªããƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã™ã“ã¨ãŒã§ãã‚‹ã€‚ã™ã”ã„ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50  package main import ( \u0026#34;archive/zip\u0026#34; \u0026#34;io\u0026#34; \u0026#34;log\u0026#34; \u0026#34;github.com/aws/aws-sdk-go/aws\u0026#34; \u0026#34;github.com/aws/aws-sdk-go/aws/session\u0026#34; \u0026#34;github.com/aws/aws-sdk-go/service/s3\u0026#34; \u0026#34;github.com/gin-gonic/gin\u0026#34; ) func main() { engine := gin.Default() engine.GET(\u0026#34;/\u0026#34;, func(c *gin.Context) { sess := session.Must(session.NewSession(\u0026amp;aws.Config{ Region: aws.String(\u0026#34;ap-northeast-1\u0026#34;), })) s3handler := s3.New(sess) obj, err := s3handler.GetObject(\u0026amp;s3.GetObjectInput{ Bucket: aws.String(\u0026#34;2021-test-bucket\u0026#34;), Key: aws.String(\u0026#34;sample.txt\u0026#34;), }) if err != nil { log.Print(err) } body := obj.Body defer obj.Body.Close() c.Stream(func(w io.Writer) bool { ar := zip.NewWriter(w) defer ar.Close() c.Writer.Header().Set(\u0026#34;Content-Disposition\u0026#34;, \u0026#34;attachment; filename=download.zip\u0026#34;) f, _ := ar.Create(\u0026#34;sample.txt\u0026#34;) io.Copy(f, body) return false }) }) engine.Run(\u0026#34;:3000\u0026#34;) }   ","description":"","id":2,"section":"posts","tags":["go","gin"],"title":"ã€Goã€‘Ginã§AWS S3ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’åœ§ç¸®ã—ã¦è¿”å´ã™ã‚‹","uri":"https://www.anypalette.com/ja/posts/20210508_go-gin-s3-file-response/"},{"content":"æ¦‚è¦ æ›¸ç±ã‚’ä½œæˆã™ã‚‹ã®ã«éå¸¸ã«ä¾¿åˆ©ãªãƒ„ãƒ¼ãƒ«Re:VIEWã®ç’°å¢ƒæ§‹ç¯‰ã‚„ä½¿ã„æ–¹ã«ã¤ã„ã¦ã€‚\nä¹…ã—ã¶ã‚Šã«Re:VIEWã‚’ä½¿ã„ãŸã„ãªãã¨æ€ã£ãŸã‚‰è‰²ã€…å¿˜ã‚Œã‹ã‘ã¦ãŸã®ã§æ€ã„å‡ºã—ãªãŒã‚‰ã¾ã¨ã‚ãŸã€‚\nè£½æœ¬ï¼ˆreviewã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œï¼‰ã¯ã‚³ãƒ³ãƒ†ãƒŠã§ã‚„ã‚‹ã€‚\nã‚„ã£ã¦ã¿ã‚‹ äº‹å‰æº–å‚™ ä½œæ¥­ç”¨ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã™ã‚‹\n1  $ mkdir sample-book   å®Ÿè¡Œç’°å¢ƒã®ä½œæˆ reviewã®å®Ÿè¡Œç’°å¢ƒã‚’ä½œæˆã™ã‚‹ã€‚\nãƒ­ãƒ¼ã‚«ãƒ«ã«rubyã®å®Ÿè¡Œç’°å¢ƒã‚’ä½œæˆã™ã‚‹ã®ãŒå°‘ã—æ‰‹é–“ãªã®ã§ã‚³ãƒ³ãƒ†ãƒŠä¸Šã§å®Ÿè¡Œã™ã‚‹ã€‚ã€€ã“ã¡ã‚‰ï¼ˆ(vvakame/review)ï¼‰ã¨Re:VIEW(Git)ã®Quick Startã‚’å‚è€ƒã«ä½œæˆã—å®Ÿè¡Œã™ã‚‹ã€‚\nãƒœãƒªãƒ¥ãƒ¼ãƒ ã®æ°¸ç¶šåŒ–è¨­å®šã‚’å¿˜ã‚Œãšã«ã€‚\n1  $ vi docker-compose.yml   1 2 3 4 5 6 7 8 9 10 11 12  version:\u0026#39;3\u0026#39;services:review:image:vvakame/review:5.1volumes:- .:/workworking_dir:/work# ä½œæ¥­ç”¨ã®ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã™ã‚‹ãŸã‚ã®ã‚³ãƒãƒ³ãƒ‰.command:\u0026gt;sh -c \u0026#34; review init hello \u0026#34;  å®Ÿè¡Œã™ã‚‹ã€‚\n1 2 3 4  $ docker-compose up # Starting sample-book_review_1 ... done # Attaching to sample-book_review_1 # sample-book_review_1 exited with code 0   å®Œäº†å¾Œã€helloãƒ•ã‚©ãƒ«ãƒ€ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹ã€‚\n1 2 3  $ ls hello Gemfile catalog.yml doc images lib style.css Rakefile config.yml hello.re layouts sty   è£½æœ¬ã™ã‚‹ è©¦ã—ã«ç¾æ™‚ç‚¹ã®è¨­å®šã§PDFå½¢å¼ã§è£½æœ¬ã™ã‚‹ã€‚\n1 2  # helloãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé…ä¸‹ã®Re:VIEWã‚’åˆ©ç”¨ã™ã‚‹ã®ã«å¿…è¦ãªã‚»ãƒƒãƒˆã‚’docker-composeã¨åŒã˜éšå±¤ã«ç§»å‹•ã™ã‚‹ $ mv hello/* .   ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•æ™‚ã®ã‚³ãƒãƒ³ãƒ‰ã‚’æ›¸ãæ›ãˆã€å®Ÿè¡Œã™ã‚‹\n1 2 3 4 5 6 7 8 9 10 11  $ vi docker-compose.yml # \u0026#34;review init hello\u0026#34; -\u0026gt; \u0026#34;review-pdfmaker config.yml\u0026#34; ã«æ›¸ãæ›ãˆã‚‹ $ docker-compose up # Recreating sample-book_review_1 ... done # Attaching to sample-book_review_1 # review_1 | INFO: compiling hello.tex # : # (çœç•¥) # : # sample-book_review_1 exited with code 0   å®Œäº†å¾Œã€å®Ÿè¡Œã—ãŸãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã‚’ã¿ã‚‹ã¨pdfãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œæˆã•ã‚Œã¦ã‚‹ã€‚\né–‹ã„ã¦ã¿ã‚‹ã¨ã“ã‚“ãªæ„Ÿã˜ã€‚\nã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹ è‡ªåˆ†ç”¨ã«è¨­å®šã‚„ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¦ã„ãã€‚\nconfig.ymlã®è¨­å®š å…¨ã¦ã®è¨­å®šã«ã‚³ãƒ¡ãƒ³ãƒˆã§æ³¨é‡ˆãŒæ›¸ã„ã¦ã‚ã‚Šã€éå¸¸ã«ã‚ã‹ã‚Šã‚„ã™ã„ã€‚\nã¨ã‚Šã‚ãˆãšä»¥ä¸‹ã®è¨­å®šã‚’ä¿®æ­£ã€‚ã‹ãå§‹ã‚ãŸã‚‰ã¾ãŸé©å®œä¿®æ­£ã™ã‚‹\n1 2 3 4 5 6 7 8 9 10  booktitle:2021å¹´ãƒ†ã‚¹ãƒˆæ›¸ç±aut:[\u0026#34;BAMBi\u0026#34;]# ã‚³ãƒ¡ãƒ³ãƒˆã•ã‚Œã¦ã„ã‚‹ã®ã§å¤–ã™ã€‚highlight:html:\u0026#34;rouge\u0026#34;latex:\u0026#34;listings\u0026#34;# æœ¬ç·¨ã¯ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé…ä¸‹ã«æ›¸ã„ã¦ã„ãcontentdir:contents  contentdirã§æŒ‡å®šã—ãŸãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã—ã€.reãƒ•ã‚¡ã‚¤ãƒ«ã¯contentsãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«ç§»å‹•ã™ã‚‹ã€‚\n1  $ mkdir contents   catalog.ymlã®è¨­å®š æœ¬å…¨ä½“ã®æ§‹æˆã‚’ã“ã“ã§è¨­å®šã™ã‚‹ã€‚\nã©ã†ãªã‚‹ã‹ã‚ã‹ã‚‰ãªã„ã®ã§é©å½“ã«ä»®æ±ºã‚ã§è¨­å®šã€‚\n1 2 3 4 5 6 7 8 9 10 11 12  PREDEF:- intro.reCHAPS:- ch00/01.re- ç¬¬ä¸€éƒ¨:- ch01/01.reAPPENDIX:POSTDEF:- postscript.re  è¨­å®šã—ãŸå†…å®¹ã¨åŒã˜ã«ãªã‚‹ã‚ˆã†ã«contentsãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«.reãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¦ã„ãã€‚\nãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ ã“ã®ã‚ˆã†ãªæ§‹æˆã«ã—ãŸã€‚\n. â”œâ”€â”€ Gemfile â”œâ”€â”€ Rakefile â”œâ”€â”€ book.pdf â”œâ”€â”€ catalog.yml â”œâ”€â”€ config.yml â”œâ”€â”€ contents â”‚ â”œâ”€â”€ ch00 â”‚ â”œâ”€â”€ ch01 â”‚ â”œâ”€â”€ intro.re â”‚ â””â”€â”€ postscript.re â”œâ”€â”€ doc â”œâ”€â”€ docker-compose.yml â”œâ”€â”€ images â”œâ”€â”€ lib â””â”€â”€ sty æ–‡ç« æ ¡æ­£ãƒ„ãƒ¼ãƒ«ã‚’è¨­å®šã™ã‚‹ textlintã‚’ä½¿ã£ã¦\u0026quot;ã¦ã«ã‚’ã¯\u0026quot;ã¨ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã‚‚ã‚‰ã†ã€‚\næœ€å¾Œã¯CIã«è¨­å®šã—ã¦pushã®éƒ½åº¦ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚\nDockerfileã®ä½œæˆ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆç›´ä¸‹ã«textlintã‚’ä½œæˆã—ã€ãã®ä¸‹ã«Dockerfileã‚’ä½œæˆã™ã‚‹ã€‚\nä»¥ä¸‹ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠãã€‚\n textlint-plugin-review: Re:VIEWã®æ–‡æ›¸ã‚’textlintã§ãƒã‚§ãƒƒã‚¯å¯¾è±¡ã¨ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ textlint-filter-rule-comments: lintå¯¾è±¡ã®æ–‡æ›¸ã«ã¤ã„ã¦ã€ä»»æ„ã®ç®‡æ‰€ã‚’å¯¾è±¡å¤–ã¨ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ textlint-rule-prh: è¡¨è¨˜æºã‚Œã«é–¢ã™ã‚‹ãƒ«ãƒ¼ãƒ«ã€‚ãƒªãƒã‚¸ãƒˆãƒªå†…ã®WEB+DB_PRESS.ymlã‚’æ ¡æ­£ã®ãƒ«ãƒ¼ãƒ«ã¨ã—ã¦åˆ©ç”¨ã™ã‚‹ã€‚ textlint-rule-preset-ja-technical-writing: æŠ€è¡“æ–‡æ›¸å‘ã‘ã®ãƒ«ãƒ¼ãƒ« textlint-rule-preset-ja-spacing: æ—¥æœ¬èªã®ã‚¹ãƒšãƒ¼ã‚¹æœ‰ç„¡ã«é–¢ã™ã‚‹ãƒ«ãƒ¼ãƒ«  1 2 3 4 5 6 7 8 9 10  FROMnode:15.5.1-stretch-slimRUN npm install -g textlint \\  \u0026amp;\u0026amp; npm install -g \\  textlint-plugin-review \\  textlint-rule-prh \\  textlint-rule-preset-ja-technical-writing \\  textlint-rule-preset-ja-spacing \\  textlint-filter-rule-commentsWORKDIR/work  docker-compose.ymlã®ä¿®æ­£ textlintãŒåˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ã‚µãƒ¼ãƒ“ã‚¹ã‚’è¿½åŠ ã™ã‚‹ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13  textlint:build:context:.dockerfile:./textlint/Dockerfilevolumes:- .:/workworking_dir:/work/textlint# textlintã®åˆæœŸåŒ–command:\u0026gt;sh -c \u0026#34; cd textlint textlint --init \u0026#34;  ä½œæˆå¾Œã€docker-compose upã‚’å®Ÿè¡Œã™ã‚‹ã¨textlintãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«.textlintrcãŒä½œæˆã•ã‚Œã‚‹ã€‚\nãƒ«ãƒ¼ãƒ«ã®è¨­å®š ãƒ«ãƒ¼ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ ã“ã¡ã‚‰ã«ã‚ã‚‹2ã¤ã®ãƒ«ãƒ¼ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã©ã“ã‹ã«ä¿å­˜ã™ã‚‹ã€‚\n(ã‚µãƒ³ãƒ—ãƒ«ã¯textlint/rulesé…ä¸‹ã«ä¿å­˜ã—ã¦ã„ã‚‹)\n.textlintrcã®ä¿®æ­£ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’åˆ©ç”¨ã™ã‚‹è¨­å®šã‚’è¿½åŠ ã™ã‚‹ã€‚\nåŸ·ç­†ä½œæ¥­ã‚’é€²ã‚ã‚‹ä¸­ã§é©å®œä¿®æ­£ã™ã‚‹ã€‚\n{ \u0026quot;plugins\u0026quot;: [ \u0026quot;review\u0026quot; ], \u0026quot;filters\u0026quot;: { \u0026quot;comments\u0026quot;: true }, \u0026quot;rules\u0026quot;: { \u0026quot;prh\u0026quot;: { \u0026quot;rulePaths\u0026quot;: [ \u0026quot;./rules/WEB+DB_PRESS.yml\u0026quot;, \u0026quot;./rules/techbooster.yml\u0026quot; ] }, \u0026quot;preset-ja-technical-writing\u0026quot;: true, \u0026quot;preset-ja-spacing\u0026quot;: true } } docker-compose.ymlã®ä¿®æ­£ textlintã®commandã‚’ä¿®æ­£ã™ã‚‹ã€‚\nå¼•æ•°ã«æŒ‡å®šã—ã¦ã„ã‚‹ãƒ•ã‚©ãƒ«ãƒ€åã¯æ ¡æ­£ã—ãŸã„ãƒ•ã‚¡ã‚¤ãƒ«(ä»¥ä¸‹ã®ä¾‹ã®ã‚ˆã†ã«æ­£è¦è¡¨ç¾ã‚’åˆ©ç”¨ã—ã¦è¨­å®šã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹)ã‚’è¨­å®šã™ã‚‹ã€‚\nã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ãŠå¥½ã¿ã§ã€‚ã€‚ã€‚\n1 2 3 4  command:\u0026gt;sh -c \u0026#34; textlint ../contents/*.re -f pretty-error \u0026#34;  è¨­å®šå¾Œdocker-compose up textlint ã§textlintã®ã¿ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒå¯èƒ½ã«ãªã‚‹ã€‚\nâ†“ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§å®Ÿè¡Œã—ãŸæ™‚ã®çµæœã€‚\ndocker-compose up textlint Starting sample-book_textlint_1 ... done Attaching to sample-book_textlint_1 textlint_1 | âœ“ prh: ã¯ã˜ã‚ =\u0026gt; å§‹ã‚ textlint_1 | /work/contents/intro.re:1:3 textlint_1 | v textlint_1 | 0. textlint_1 | 1. = ã¯ã˜ã‚ã« textlint_1 | 2. ã“ã“ã«å‰æ›¸ãã‚’ã‹ã textlint_1 | ^ textlint_1 | textlint_1 | ja-technical-writing/ja-no-mixed-period: æ–‡æœ«ãŒ\u0026quot;ã€‚\u0026quot;ã§çµ‚ã‚ã£ã¦ã„ã¾ã›ã‚“ã€‚ textlint_1 | /work/contents/intro.re:2:9 textlint_1 | v textlint_1 | 1. = ã¯ã˜ã‚ã« textlint_1 | 2. ã“ã“ã«å‰æ›¸ãã‚’ã‹ã textlint_1 | 3. textlint_1 | ^ textlint_1 | textlint_1 | ja-technical-writing/ja-no-mixed-period: æ–‡æœ«ãŒ\u0026quot;ã€‚\u0026quot;ã§çµ‚ã‚ã£ã¦ã„ã¾ã›ã‚“ã€‚ textlint_1 | /work/contents/postscript.re:2:10 textlint_1 | v textlint_1 | 1. = ã‚ã¨ãŒã textlint_1 | 2. ã“ã“ã«ã‚ã¨ãŒãã‚’æ›¸ã textlint_1 | 3. textlint_1 | ^ textlint_1 | textlint_1 | âœ– 3 problems (3 errors, 0 warnings) textlint_1 | âœ“ 1 fixable problem. textlint_1 | Try to run: $ textlint --fix [file] textlint_1 | sample-book_textlint_1 exited with code 1 GitHub Actionsã®è¨­å®š æœ€å¾Œã«GitHubActionsã®è¨­å®šã‚’è¡Œã†ã€‚\nå¾Œè¿°ã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å…¨ã¦ç½®ã„ã¦ã‚ã‚‹ã®ã§è‰¯ã‹ã£ãŸã‚‰ä½¿ã£ã¦ãã ã•ã„ã€‚\nè¨­å®šã—ãŸã‚¸ãƒ§ãƒ–ã¨å†…å®¹ã«ã¤ã„ã¦\n lint: textlintã‚’åˆ©ç”¨ã—ãŸæ–‡ç« ã®æ ¡æ­£ã‚’è¡Œã† deploy: è£½æœ¬ã™ã‚‹(lintã®çµæœã«ã‚ˆã‚‰ãšå¿…ãšå®Ÿè¡Œã™ã‚‹ã€‚çµæœã¯CIå®Ÿè¡Œã‹ã‚‰5æ—¥é–“ä»¥å†…ã§ã‚ã‚Œã°ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãŒå¯èƒ½ã€‚)  ä»¥ä¸‹æ”¹å–„ç‚¹\n lintã®jobã‚’ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåŒ–ã—ã¦å¼•æ•°ã¨ã‹ã§ãƒ•ã‚©ãƒ«ãƒ€ã‚’listã§æ¸¡ã—ã¦å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚\næ–‡æ›¸ãŒå¢—ãˆã¦ãã¦ç« ã”ã¨ã«ãƒ•ã‚©ãƒ«ãƒ€ãŒåˆ¥ã‚ŒãŸæ™‚lintã®è¡Œã‚’å¢—ã‚„ã•ãªã„ã¨ã„ã‘ãªã„ã®ãŒè‹¥å¹²é¢å€’ãªã®ã§ã€‚ãã‚‚ãã‚‚ã§ãã‚‹ã‹ã‚ã‹ã‚‰ãªã„ã‘ã©å¤šåˆ†ã§ããã†ã€‚ ã‚¸ãƒ§ãƒ–ãŒå®Œäº†ã—ãŸã‚‰çµæœã‚’Slackã®é€šçŸ¥ã«åŠ ãˆã¦ã‚‚è‰¯ã•ãã†ã€‚ lintãŒå¤±æ•—ã—ãŸå ´åˆã«ã€textllintã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³--fixã‚’ä½¿ã£ã¦è‡ªå‹•ä¿®æ­£ã—ã¦ãã®å†…å®¹ã§ãƒ—ãƒ«ãƒªã‚¯ä½œæˆã™ã‚‹ã‚¸ãƒ§ãƒ–ãŒã‚ã‚‹ã¨ä¾¿åˆ©ã€‚  GitHub Actionsã§ã¯docker-composeã‚³ãƒãƒ³ãƒ‰ãŒä½¿ãˆã‚‹ã¨ã®ã“ã¨ã§è©¦ã—ã¦ã¿ãŸã‚‰çˆ†é€Ÿã§CIã§ããŸã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29  # project rooté…ä¸‹ã«.github/workflows/review-workflow.yml ã‚’ä½œæˆã™ã‚‹ã€‚name:review-github-actionson:[push]jobs:lint:name:lint-contentsruns-on:ubuntu-lateststeps:- uses:actions/checkout@v2- uses:actions/setup-node@v1- run:docker-compose build textlint- run:docker-compose up textlintdeploy:name:make-book# lintãŒå¤±æ•—ã—ã¦ã‚‚è£½æœ¬ã¯å¸¸ã«è¡Œã†if:${{ always() }}runs-on:ubuntu-lateststeps:- uses:actions/checkout@v2- run:docker-compose up review# æˆæœç‰©ã‚’Webä¸Šã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã‚‹ã‚ˆã†ã«è¨­å®šã™ã‚‹- name:\u0026#39;Upload Book\u0026#39;uses:actions/upload-artifact@v2with:name:mybookpath:book.pdfretention-days:5# 5æ—¥é–“ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãŒå¯èƒ½ã«ãªã‚‹  CIã®æŒ™å‹•ãŒdocker-compose.ymlã«ä¾å­˜ã™ã‚‹ã®ã¯å€‹äººçš„ã«ãƒ¢ãƒ¤ãƒƒã¨æ„ŸãŒã‚ã‚‹ã®ã§docker-composeã‚³ãƒãƒ³ãƒ‰ä½¿ã‚ãªã„ç‰ˆã‚‚ä½œæˆã—ãŸã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  name:review-github-actionson:[push]jobs:lint:name:lint-contentsruns-on:ubuntu-lateststeps:- uses:actions/checkout@v2- uses:actions/setup-node@v1- name:npm installrun:|npm install -g textlint npm install -g textlint-plugin-review textlint-rule-prh textlint-rule-preset-ja-technical-writing textlint-rule-preset-ja-spacing textlint-filter-rule-comments- name:textlintrun:|cd textlint \u0026amp;\u0026amp; \\ textlint ../contents/*.re \\ -f pretty-errordeploy:container:vvakame/review:5.1name:make-book# lintãŒå¤±æ•—ã—ã¦ã‚‚è£½æœ¬ã¯å¸¸ã«è¡Œã†if:${{ always() }}runs-on:ubuntu-lateststeps:- uses:actions/checkout@v2# æˆæœç‰©ã‚’Webä¸Šã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã‚‹ã‚ˆã†ã«è¨­å®šã™ã‚‹# å‡ºåŠ›å½¢å¼ã‚’å¤‰æ›´ã™ã‚‹éš›ã¯å¾Œè¿°ã™ã‚‹uploadã®ãƒ•ã‚¡ã‚¤ãƒ«åã‚‚å¤‰æ›´ã™ã‚‹- run:|sh -c \u0026#34;review-pdfmaker config.yml\u0026#34;- name:\u0026#39;Upload Book\u0026#39;uses:actions/upload-artifact@v2with:name:myboopath:book.pdfretention-days:5# 5æ—¥é–“ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãŒå¯èƒ½ã«ãªã‚‹  è£½æœ¬ã‚¸ãƒ§ãƒ–ãŒæˆåŠŸã™ã‚‹ã¨GitHubç”»é¢ä¸Šã®Actionsã‚¿ãƒ–ã‹ã‚‰æˆæœç‰©ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚\næœ€çµ‚çš„ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆã¨ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¤ã„ã¦ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  . â”œâ”€â”€ Gemfile â”œâ”€â”€ Rakefile â”œâ”€â”€ book.pdf â”œâ”€â”€ catalog.yml â”œâ”€â”€ config.yml â”œâ”€â”€ contents \u0026lt;- ã“ã®ãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«è¨˜äº‹ã‚’æ›¸ã„ã¦ã„ã â”‚ â”œâ”€â”€ ch00 â”‚ â”œâ”€â”€ ch01 â”‚ â”œâ”€â”€ intro.re â”‚ â””â”€â”€ postscript.re â”œâ”€â”€ doc â”œâ”€â”€ docker-compose.yml â”œâ”€â”€ images â”‚ â”œâ”€â”€ cover-a5.ai â”‚ â””â”€â”€ cover.jpg â”œâ”€â”€ lib â”‚ â””â”€â”€ tasks â”œâ”€â”€ sty â”œâ”€â”€ style.css â””â”€â”€ textlint \u0026lt;- textlintã®è¨­å®šã¯ã“ã®é…ä¸‹ã§è¡Œã† â”œâ”€â”€ Dockerfile â”œâ”€â”€ intro.re â”œâ”€â”€ .textlintrc â””â”€â”€ rules   ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¤ã„ã¦ GitHub Actionsã®è¨­å®šã¾ã§ãŒå…¥ã£ã¦ã„ã‚‹ã‚‚ã®ã‚’ä»¥ä¸‹URLã«pushæ¸ˆã¿ã§ã™ã€‚è‰¯ã‹ã£ãŸã‚‰ä½•ã‹ã«ãŠä½¿ã„ãã ã•ã„ã€‚\nhttps://github.com/bambi-san/createbook-sample.git\nå‚è€ƒ  textlintå…¬å¼ textlintæ ¡æ­£ãƒ„ãƒ¼ãƒ«ã®æ—¥æœ¬èªå‘¨ã‚Šã‚¹ãƒšãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ«ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹æ–¹æ³• textlint ã¨ VS Code ã§å§‹ã‚ã‚‹æ–‡ç« æ ¡æ­£ textlintã§Re:VIEWã®åŸç¨¿ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹  ","description":"","id":3,"section":"posts","tags":["Re:VIEW"],"title":"Re:VIEWã®ä½¿ã„æ–¹(v5.1)","uri":"https://www.anypalette.com/ja/posts/20210501_howto-review/"},{"content":"å†…å®¹ git submoduleã®ä½¿ã„æ–¹ã«ã¤ã„ã¦ã¾ã¨ã‚ã‚‹ã€‚\ngit submoduleã‚³ãƒ¯ã‚¯ãƒŠã‚¤ï¼ï¼\næ¦‚è¦ git submoduleã¨ã¯ Gitå…¬å¼ã®èª¬æ˜ã¯ã“ã¡ã‚‰ã€‚\nã‚½ãƒ¼ã‚¹ç®¡ç†ã—ã¦ã„ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰åˆ¥ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚½ãƒ¼ã‚¹ã‚’åˆ©ç”¨ã—ãŸã„ãªã€œã£ã¦æ™‚ã¨ã‹ã«åˆ©ç”¨ã™ã‚‹ã€‚\nä¾‹ãˆã°ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®é–‹ç™ºã‚’ã™ã‚‹éš›ã«ãƒ­ã‚°å‡ºåŠ›ãªã©è¤‡æ•°ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«å…±é€šã—ã¦å®Ÿè£…ã™ã‚‹éƒ¨åˆ†ã‚’åˆ‡ã‚Šå‡ºã—ã—ã¦åˆ¥ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦ç®¡ç†ã—ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯submoduleã¨ã—ã¦å‘¼ã³å‡ºã™ã‚ˆã†ã«ã—ãŸã‚Šã¨ã‹ã€‚ã€‚\nç‰¹å®šã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚½ãƒ¼ã‚¹ã‚’ã¾ã‚‹ã£ã¨ã‚³ãƒ”ãƒ¼ã—ãŸã‚Šãƒªãƒ³ã‚¯ã§ã‚‚ã„ã„ã‚“ã ã‘ã©ã€‚ã€‚ã„ã¡ã„ã¡ã‚³ãƒ”ãƒ¼ã—ãŸã‚Šãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãŒé¢å€’ã ãªãã¨ã„ã†æ™‚ã«ä½¿ãˆã‚‹ã¨ä¾¿åˆ©ã€‚\nå€‹äººçš„ã«ã¯ã€Œã‚ã£ã€‚ã“ã‚Œé¢å€’ãã•ã„ãªã€ã¨æ€ã£ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§submoduleåŒ–ã‚’æ¤œè¨ã™ã‚Œã°ã„ã„ã‹ã¨æ€ã†ã€‚\nç§ã®blogã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚‚submoduleã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹ï¼ˆã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒé©å½“ã™ãã¦å°‘ã—æ¥ãšã‹ã—ã„\u0026hellip;ï¼‰ã€‚\n@ä»¥é™ã«ã‚ã‚‹è‹±æ•°å­—ã®æ–‡å­—åˆ—ã¯submoduleã¨ã—ã¦è¿½åŠ (æ›´æ–°)ã—ãŸæ™‚ã®ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ã‚’æŒ‡ã—ã¦ã„ã‚‹ã€‚\nãƒªãƒ³ã‚¯ã®zzoã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨åˆ¥ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ(zzossig/hugo-theme-zzo)ã«é·ç§»ã™ã‚‹ã€‚\nä¾‹ã§ã¯290800d...ã«ãªã£ã¦ãŠã‚Šã€ãƒªãƒ³ã‚¯ã‚ˆã‚Šzzoã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«é·ç§»ã™ã‚‹ã¨ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ãŒè‡ªå‹•çš„ã«290800d...ã«ãªã£ã¦ã„ã‚‹ã®ãŒç¢ºèªã§ãã‚‹ã€‚\nè¿½åŠ ã—ãŸsubmoduleã®ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ãŒã™ãã«ã€æ˜ç¢ºã«ã‚ã‹ã‚‹ãŠã‹ã’ã§è¿½åŠ ã—ãŸå¾Œã®ç®¡ç†ãŒéå¸¸ã«æ¥½ã«ãªã‚‹ã€‚ã‚ã‹ã‚‰ãªã„ã¨å‚ç…§ã—ã¦ã„ã‚‹ãƒªãƒã‚¸ãƒˆãƒªã¯ã„ã¤ã®ã‚³ãƒŸãƒƒãƒˆã ã£ãŸã‹ä½•ã‹ã—ã‚‰ã®æ–¹æ³•ã§ç®¡ç†ã—ãªã‘ã‚Œã°ãªã‚‰ãšã€ç®¡ç†ã—ã¦ã„ã‚‹ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ã¨å®Ÿéš›ã®ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ãŒã‚ºãƒ¬ã¦ã—ã¾ã†ã¨å ´åˆã«ã‚ˆã£ã¦ã¯ãƒã‚°ã«\u0026hellip;\nè¤‡æ•°ã®submoduleã‚’è¿½åŠ ã—ãŸæ™‚ã‚‚åŒæ§˜ã«ãã‚Œãã‚Œã®ãƒªãƒã‚¸ãƒˆãƒªã§å‚ç…§ã—ã¦ã„ã‚‹ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã€‚\nã¾ãŸã€submoduleã¯è‡ªå‹•ã§ã‚½ãƒ¼ã‚¹ãŒæ›´æ–°ã•ã‚Œã‚‹ã“ã¨ã¯ãªã„ã®ã§æ³¨æ„ã€‚\n(ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ã‚’å‚ç…§ã—ã¦ã„ã‚‹ãŸã‚è‡ªå‹•æ›´æ–°ã•ã‚Œãªã„ã“ã¨ã«ã‚ˆã‚Šå‚ç…§å…ƒã®å‹•ä½œãŒæ‹…ä¿ã•ã‚Œã‚‹ã®ã§å®‰å¿ƒ)\ngit submodule ä½¿ã„æ–¹ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®é–‹ç™ºã‚’ã—ã¦ã„ã‚‹ã¨ä»®å®šã—ã¦ã€é–‹ç™ºä¸­ã®ãƒªãƒã‚¸ãƒˆãƒªã€å‚ç…§å…ˆã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ãã‚Œãã‚Œä»¥ä¸‹ã®åå‰ã¨ã™ã‚‹ã€‚\n é–‹ç™ºä¸­ã®ãƒªãƒã‚¸ãƒˆãƒªï¼šapp_repo submoduleã¨ã—ã¦å‚ç…§ã•ã‚Œã‚‹å…ˆã®ãƒªãƒã‚¸ãƒˆãƒªåï¼šsubmodule_repo  submoduleã®è¿½åŠ  1 2 3  # git submodule add ${submoduleã¨ã—ã¦è¿½åŠ ã—ãŸã„ãƒªãƒã‚¸ãƒˆãƒªã®URL} ${submoduleã‚’è¿½åŠ ã—ãŸã„ãƒ‘ã‚¹} # ã‚³ãƒãƒ³ãƒ‰å…¥åŠ›é…ä¸‹ã«è¿½åŠ ã—ãŸã„å ´åˆã€${submoduleã‚’è¿½åŠ ã—ãŸã„ãƒ‘ã‚¹}ã®æŒ‡å®šã¯ä¸è¦ $ git submodule add https://xxx/submodule_repo.git   ${submoduleã‚’è¿½åŠ ã—ãŸã„ãƒ‘ã‚¹}ã«ç›¸å¯¾ãƒ‘ã‚¹ã‚’æŒ‡å®šã—ãŸå ´åˆã¯ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ãŸãƒ‘ã‚¹ã‹ã‚‰ã®ç›¸å¯¾ãƒ‘ã‚¹ã¨ãªã‚‹ã€‚\nä¸Šè¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ä»¥ä¸‹4ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚„ãƒ•ã‚©ãƒ«ãƒ€ãŒä¿®æ­£ã€ä½œæˆã•ã‚Œã‚‹ã€‚\n .gitmodules .git/config .git/modules/submodule_repo submoduleã¨ã—ã¦è¿½åŠ ã—ãŸãƒªãƒã‚¸ãƒˆãƒªã®ä¸­èº«  git submoduleã®æ“ä½œã‚’ã—ã¦ã„ã¦ãªã‚“ã ã‹ã‚ˆãåˆ†ã‹ã‚‰ãªã„ãŒã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã—ã¾ã£ã¦ã©ã†ã—ã‚ˆã†ã‚‚ãªã•ãã†ãªæ™‚ã‚„æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã—ãŸã„æ™‚ã¯\nã“ã®3ã¤ã®å†…å®¹ã‚’ãã‚Œãã‚Œä»¥ä¸‹ã®ã‚ˆã†ã«åˆæœŸåŒ–ã™ã‚‹ã“ã¨ã§æœ€åˆã‹ã‚‰æ“ä½œã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚\n .gitmodules ãƒ•ã‚¡ã‚¤ãƒ«å†…ã®è¨­å®šã‚’å‰Šé™¤ (submoduleã®è¨­å®šãŒä¸€ã¤ã®å ´åˆã¯ãƒ•ã‚¡ã‚¤ãƒ«ã”ã¨å‰Šé™¤ã§ã‚‚OK) .git/config ãƒ•ã‚¡ã‚¤ãƒ«å†…ã«ã‚ã‚‹submoduleã®è¨­å®šã‚’å‰Šé™¤ .git/modules/submodule_repo ãƒ•ã‚©ãƒ«ãƒ€ã‚’å‰Šé™¤ è¿½åŠ ã—ãŸsubmoduleã®ãƒªãƒã‚¸ãƒˆãƒªãƒ•ã‚©ãƒ«ãƒ€ã‚’å‰Šé™¤  ä¸­é€”åŠç«¯ã«å‰Šé™¤ã—ãŸçŠ¶æ…‹ã§æ“ä½œã—ã‚ˆã†ã¨ã™ã‚‹ã¨'xxx(submoduleå)' already exists in the indexã¨ã„ã†ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ãã¦æ·±ã¿ã«ãƒãƒã‚‹ã€‚ã€‚ã€‚ï¾‹ï½¨\nå‰Šé™¤ã®ä»•æ–¹ã«ã¤ã„ã¦ã¯git rmã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã£ãŸæ–¹ãŒè‰¯ã„ã‹ã€rmã‚³ãƒãƒ³ãƒ‰ãªã©ã§ãã®ã¾ã¾å‰Šé™¤ã—ãŸæ–¹ãŒè‰¯ã„ã‹ã¯git statusã§çŠ¶æ…‹ã‚’ç¢ºèªã—ãªãŒã‚‰è¡Œã†ã¨ã‚ˆã„ã‹ã‚‚ã—ã‚Œãªã„ã€‚\nã¡ãªã¿ã«ã€submoduleã¨ã—ã¦è¿½åŠ ã•ã‚ŒãŸãƒªãƒã‚¸ãƒˆãƒªã®ãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«ã¯.gitã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œæˆã•ã‚Œã€ä¸­èº«ã‚’ã¿ã‚‹ã¨ä»¥ä¸‹ã®æ§˜ã«gitdirã¨ã„ã†è¨­å®šãŒæ›¸ãè¾¼ã¿ã•ã‚Œã¦ã„ã‚‹ã€‚\nã“ã‚Œã¯gitã®ç®¡ç†ç”¨ã®ãƒ•ã‚¡ã‚¤ãƒ«ç¾¤(.git)ãŒã©ã“ã«ã‚ã‚‹ã®ã‹ã‚’ç¤ºã—ã¦ã„ã¦ã€submoduleã®æ“ä½œã«é™ã‚‰ãšgitã‚’åˆæœŸåŒ–ã™ã‚‹éš›ãªã©ã«ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ã¤ã‘ã‚‹ã“ã¨ã§ç®¡ç†ã‚’åˆ†ã‘ã‚‹ã“ã¨ãŒã§ãã‚‹(--separate-git-dir=)ã€‚\næ™®é€šã«åˆ©ç”¨ã—ã¦ã„ã¦.gitã‚’åˆ†ã‘ãŸã„ã¨æ€ã£ãŸå ´é¢ã«å‡ºä¼šã£ãŸã“ã¨ãŒãªã„(ãã†ã„ã†è©±ã‚‚èã„ãŸã“ã¨ãŒãªã„)ãŸã‚åˆ©ç”¨ã™ã‚‹å ´é¢ã¯ã‚ã¾ã‚Šãªã„ã‹ã‚‚ã—ã‚Œãªã„ã€‚ã€‚ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ç‰¹æœ‰ã®ã‚‚ã®ã§ã¯ãªã„ã¨ã„ã†ã“ã¨ã ã‘è¦šãˆã¦ãŠã‘ã°ã‚ˆã•ãã†ã€‚\ngitdir: ../.git/modules/submodule_repo ä¸Šè¨˜3ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã€ãƒ•ã‚©ãƒ«ãƒ€ã«ã©ã®ã‚ˆã†ãªå†…å®¹ãŒè¿½åŠ ã€ä½œæˆã•ã‚Œã‚‹ã®ã‹ã«ã¤ã„ã¦ã–ã£ãã‚Šã«ã¾ã¨ã‚ã‚‹ã€‚\n1. .gitmodules git initã«ã‚ˆã‚ŠåˆæœŸåŒ–ã•ã‚ŒãŸçŠ¶æ…‹ã§ã¯ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œã‚‰ã‚Œã‚‹ã“ã¨ã¯ãªãã€ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§ä½œæˆã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã€‚\nã©ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ã©ã‚“ãªåå‰ã§ã€ã©ã“ã«submoduleã¨ã—ã¦ç™»éŒ²ã—ã¦ã„ã‚‹ã‹ã®è¨­å®šãŒè¿½åŠ ã•ã‚Œã‚‹ã€‚\n1 2 3  [submodule \u0026#34;submodule_repo\u0026#34;] path = submodule_repo url = https://xxx/submodule_repo.git   2. .git/config ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ­ãƒ¼ã‚«ãƒ«ãƒ–ãƒ©ãƒ³ãƒã«ã¤ã„ã¦ã®è¨­å®šã‚„submoduleã®è¨­å®šãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ã€‚\næœ«å°¾ã«ä»¥ä¸‹ã®ã‚ˆã†ãªè¨­å®šãŒè¿½åŠ ã•ã‚Œã‚‹ã€‚\n1 2 3  [submodule \u0026#34;submodule_repo\u0026#34;] url = https://xxx/submodule_repo active = true   3. .git/modules/submodule_repo submoduleã¨ã—ã¦è¿½åŠ ã—ãŸãƒªãƒã‚¸ãƒˆãƒªã®gitã«é–¢ã™ã‚‹è¨­å®šãŒå…¥ã£ã¦ã‚‹ã€‚\n4. submoduleã¨ã—ã¦è¿½åŠ ã—ãŸãƒªãƒã‚¸ãƒˆãƒªã®ä¸­èº« è¿½åŠ ã—ãŸãƒªãƒã‚¸ãƒˆãƒªãŒã”ã£ãã‚Šãã®ã¾ã¾è¿½åŠ ã•ã‚Œã‚‹ã€‚\nsubmoduleã®çŠ¶æ…‹ç¢ºèª submoduleã¨ã—ã¦å‚ç…§ã—ã¦ã„ã‚‹ãƒªãƒã‚¸ãƒˆãƒªã«ã¤ã„ã¦ã€ã©ã®ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ã‚’å‚ç…§ã—ã¦ã„ã‚‹ã®ã‹ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚\n(ç§è‡ªèº«ã¯ä»Šã¾ã§ã“ã®ã‚³ãƒãƒ³ãƒ‰ã‚ã¾ã‚Šä½¿ã£ãŸã“ã¨ãªã„ã‘ã©\u0026hellip;ä½¿ãˆã‚‹ã¨ä¾¿åˆ©ãªã®ã‹ã‚‚)\n1 2  $ git submodule status # 7xxxx1966a4b3bba7391322a3a151xxxxxxxxxx submodule_repo (heads/main)   submoduleã®æ›´æ–° git submodule ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã£ãŸæ–¹æ³•ã¨submoduleãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé…ä¸‹ã§æ›´æ–°ã™ã‚‹æ–¹æ³•ãŒã‚ã‚‹ã€‚\nè¤‡æ•°ç®¡ç†ã—ã¦ã„ã¦ä¸€åº¦ã«å…¨ã¦ã‚’æ›´æ–°ã—ãŸã„æ™‚ã¯å‰è€…ã®æ–¹ãŒã€ç‰¹å®šã®submoduleã®ã¿ã‚’updateã—ãŸã„ã¨ãã¯å¾Œè€…ã®æ–¹ãŒä¾¿åˆ©ã€‚\ngit submodule ã‚³ãƒãƒ³ãƒ‰ã‚’åˆ©ç”¨ã—ãŸæ›´æ–°æ–¹æ³• fetch ã¯é€šå¸¸ã®git fetch --allã‚³ãƒãƒ³ãƒ‰ã¨åŒã˜æ„å‘³åˆã„ã®ãŸã‚ã€å˜ã«æœ€æ–°ç‰ˆã«è¿½å¾“ã—ãŸã„ã ã‘ã§ã‚ã‚Œã°2ã¤ç›®ã®ã‚³ãƒãƒ³ãƒ‰ã®ã¿ã§è‰¯ã„ã€‚\nsubmoduleãŒè¤‡æ•°ã‚ã‚‹å ´åˆã¯è¤‡æ•°ã®submoduleã«å¯¾ã—ã¦åŒã˜æ“ä½œãŒè¡Œã‚ã‚Œã‚‹ã€‚submoduleã¨ã—ã¦è¿½åŠ ã—ãŸãƒªãƒã‚¸ãƒˆãƒªã®çŠ¶æ…‹ã«ã‚ˆã£ã¦ã¯ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œæ™‚ã«ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹å ´åˆã‚‚ã‚ã‚‹ãŸã‚æ³¨æ„ã™ã‚‹ã€‚\n(ä¾‹ãˆã°ä»¥ä¸‹ã®å ´åˆã€masterãƒ–ãƒ©ãƒ³ãƒãŒå­˜åœ¨ã—ãªã„ãƒªãƒã‚¸ãƒˆãƒªã‚’submoduleã¨ã—ã¦ç™»éŒ²ã—ã¦ã„ã‚‹ã¨git pullã«å¤±æ•—ã—ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹)\n$ git submodule foreach git fetch --all $ git submodule foreach git pull origin master submoduleãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé…ä¸‹ã§æ›´æ–°ã™ã‚‹æ–¹æ³• submoduleã¨ã—ã¦ç™»éŒ²ã—ãŸãƒªãƒã‚¸ãƒˆãƒª(ãƒ•ã‚©ãƒ«ãƒ€)é…ä¸‹ or .git/modules/å¯¾è±¡ã®submoduleé…ä¸‹ ã§ãã‚Œãã‚Œgitã®æ“ä½œã‚’è¡Œã†ã€‚\nä»Šå›ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆrooté…ä¸‹ã«submodule_repo ã®åå‰ã§ç™»éŒ²ã—ã¦ã„ã‚‹ãŸã‚ã€å®Ÿè¡Œã™ã‚‹ã¨ãã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚‹ã€‚\n1 2 3 4 5 6 7 8 9  # submoduleã¨ã—ã¦ç™»éŒ²ã—ãŸãƒªãƒã‚¸ãƒˆãƒª(ãƒ•ã‚©ãƒ«ãƒ€) é…ä¸‹ã§æ›´æ–°ã™ã‚‹å ´åˆ $ cd submodule_repo $ git fetch $ git merge master # .git/modules/å¯¾è±¡ã®submodule é…ä¸‹ã§æ›´æ–°ã™ã‚‹å ´åˆ $ cd .git/modules/submodule_repo $ git fetch $ git merge master   .git/modules/å¯¾è±¡ã®submodule é…ä¸‹ã§å®Ÿè¡Œã™ã‚‹æ–¹æ³•ã¯å°‘ã—å¥‡å¦™ã«æ„Ÿã˜ã‚‹ãŒã€ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’è¿½åŠ ã™ã‚‹ã¨ãã®ãƒªãƒã‚¸ãƒˆãƒªã®gitç®¡ç†ã¯.git/modules/è¿½åŠ ã—ãŸsubmodule ã§è¡Œã‚ã‚Œã‚‹(submoduleãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã®.gitãƒ•ã‚¡ã‚¤ãƒ«å‚ç…§)ãŸã‚ã€ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã—ã¦ç™»éŒ²ã—ãŸãƒªãƒã‚¸ãƒˆãƒª(ãƒ•ã‚©ãƒ«ãƒ€)é…ä¸‹ã§æ›´æ–°\nã™ã‚‹ã®ã¨å¤‰ã‚ã‚‰ãªã„ã€‚ã‚„ã‚Šã‚„ã™ã„æ–¹ã§ã‚„ã‚Œã°ã‚ˆã•ãã†ã€‚\nsubmoduleã‚’æ›´æ–°ã—ãŸã‚ã¨ã¯æœ¬ä½“(ä»Šå›ã®ä¾‹ã§ã¯app_repo)ã§ã‚³ãƒŸãƒƒãƒˆã™ã‚‹ã®ã‚’å¿˜ã‚Œãªã„ã‚ˆã†ã«ã€‚ã€‚ã€‚\nsubmoduleã®å‰Šé™¤ 1 2 3 4 5  $ git submodule deinit submodule_repo $ rm -rf submodule_repo # .gitmodules ã‚’è¦‹ã¦è¨­å®šãŒæ®‹ã£ã¦ã„ãŸã‚‰å‰Šé™¤ã™ã‚‹   ä¸Šè¨˜ã®ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œã§ã†ã¾ãã„ã‹ãªã„æ™‚ã¯submoduleã‚’è¿½åŠ ã—ãŸæ™‚ã«è¿½åŠ ã•ã‚ŒãŸãƒªã‚½ãƒ¼ã‚¹ã‚’åˆæœŸåŒ–ãƒ»å‰Šé™¤ã™ã‚Œã°OKã€‚\nå‚è€ƒ ã‚ã‹ã‚Šã‚„ã™ã„ç´ æ•µãªè¨˜äº‹ãŒãŸãã•ã‚“ã‚ã‚Šã¾ã—ãŸã€‚ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚\n https://www.m3tech.blog/entry/git-submodule http://transitive.info/article/git/command/submodule/  ","description":"","id":4,"section":"posts","tags":["git"],"title":"git submoduleã«ã¤ã„ã¦ã¨ä¸»ãªä½¿ã„æ–¹","uri":"https://www.anypalette.com/ja/posts/20210416_git-submodule/"},{"content":"å†…å®¹ ä¹…ã—ã¶ã‚Šã«Macã§minikubeèµ·å‹•ã—ã‚ˆã†ã¨æ€ã£ãŸã‚‰èµ·å‹•ã«å¤±æ•—ã—ãŸã€‚\nminikubeã‚’upgradeã—ãŸã‚Šminiube deleteã—ãŸã‚Šã—ãŸã‘ã©å…¨ç„¶èµ·å‹•ã§ããªã„ã€ã€ã€è©°ã‚€ã€‚\nminikube start --driver=hyperkit ğŸ˜„ Darwin 11.2.2 ä¸Šã® minikube v1.16.0 âœ¨ ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚’å…ƒã«ã€ hyperkit ãƒ‰ãƒ©ã‚¤ãƒã‚’ä½¿ç”¨ã—ã¾ã™ ğŸ‘ ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³ã®ãƒãƒ¼ãƒ‰ minikube ã‚’ minikube ä¸Šã§èµ·å‹•ã—ã¦ã„ã¾ã™ ğŸ”„ æ—¢å­˜ã® hyperkit VM ã‚’ \u0026quot;minikube\u0026quot; ã®ãŸã‚ã«å†èµ·å‹•ã—ã¦ã„ã¾ã™... ğŸ³ Docker 20.10.0 ã§ Kubernetes v1.20.0 ã‚’æº–å‚™ã—ã¦ã„ã¾ã™... â–ª Generating certificates and keys ... â–ª Booting up control plane ... â–ª Configuring RBAC rules ... ğŸ” Kubernetes ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æ¤œè¨¼ã—ã¦ã„ã¾ã™... â— 'default-storageclass' ã‚’æœ‰åŠ¹ã«ã™ã‚‹éš›ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚running callbacks: [Error making standard the default storage class: Error listing StorageClasses: Unauthorized] ğŸŒŸ æœ‰åŠ¹ãªã‚¢ãƒ‰ã‚ªãƒ³: storage-provisioner âŒ Exiting due to GUEST_START: wait 6m0s for node: wait for healthy API server: controlPlane never updated to v1.20.0 ğŸ˜¿ If the above advice does not help, please let us know: ğŸ‘‰ https://github.com/kubernetes/minikube/issues/new/choose å†…å®¹ minikubeã®issueã«è§£æ±ºç­–ã‚ã£ãŸã€‚\nã‚ã‚“ã¾ã‚Šå¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‹ã‚‰upgradeã™ã‚‹ã¨ãã¯.minikubeãƒ•ã‚©ãƒ«ãƒ€ã‚’å‰Šé™¤ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã€minikube delete --all --purgeã™ã¹ã—ã¨ãªã€‚\nå‚è€ƒï¼š[https://github.com/kubernetes/minikube/issues/8844]https://github.com/kubernetes/minikube/issues/8844\nminikube delete --all --purge ğŸ”¥ hyperkit ã®ã€Œminikubeã€ã‚’å‰Šé™¤ã—ã¦ã„ã¾ã™... ğŸ’€ ã‚¯ãƒ©ã‚¹ã‚¿ \u0026quot;minikube\u0026quot; ã®å…¨ã¦ã®ãƒˆãƒ¬ãƒ¼ã‚¹ã‚’å‰Šé™¤ã—ã¾ã—ãŸã€‚ ğŸ”¥ Successfully deleted all profiles ğŸ’€ Successfully purged minikube directory located at - [/Users/xxx/.minikube] ãã®å¾Œã‚ˆã†ã‚„ãèµ·å‹•ã«æˆåŠŸã—ãŸã€‚\nã†ã¾ãã„ã‹ãªã„ã¯ãšãŒãªã„ã¨æ€ã£ã¦upgradeå‰ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ§ãˆã¦ãªã‹ã£ãŸãŒã€ç›¸å½“å¤ã‹ã£ãŸã‚“ã ã‚ã†ã€‚ã€‚\n","description":"","id":5,"section":"posts","tags":["minikube"],"title":"minikubeã®èµ·å‹•ã«å¤±æ•—ã—ãŸæ™‚ã®å¯¾å‡¦","uri":"https://www.anypalette.com/ja/posts/20210323_cannot-minikube-start/"},{"content":"æ¦‚è¦ è‡ªä¸»å­¦ç¿’ã™ã‚‹ã®ã«ãŠã™ã™ã‚ãªã‚µã‚¤ãƒˆã‚„ãƒšãƒ¼ã‚¸ã«ã¤ã„ã¦ã€å¿˜ã‚Œã‚‹å‰ã«ã¾ã¨ã‚ã¦ã¿ãŸã€‚\nãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ç·¨ progate  urlï¼šhttps://prog-8.com/ è¨€èªï¼šHTML, Python ã¨ã‹è‰²ã€…  ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã«èˆˆå‘³ãŒã‚ã£ã¦å‹‰å¼·ã—ã¦ã¿ãŸã„ï¼ã¨ã„ã†äººã«ãŠã™ã™ã‚ã®ã‚µã‚¤ãƒˆã€‚ ç„¡æ–™ã§å—ã‘ã‚‰ã‚Œã‚‹ã‚‚ã®ã‚‚ã‚ã‚‹ã€‚\npaiza  urlï¼šhttps://paiza.jp/challenges è¨€èªï¼šC, Java, JavaScript, Python, PHP, Go è‰²ã€…  ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã«ã¤ã„ã¦å­¦ã¹ã‚‹ã ã‘ã§ã¯ãªãã€ã‚¹ã‚­ãƒ«ãƒã‚§ãƒƒã‚¯ç”¨ã®å•é¡ŒãŒç”¨æ„ã•ã‚Œã¦ã„ã¦ã€è‡ªåˆ†ãŒã©ã®ç¨‹åº¦ã®ã‚¹ã‚­ãƒ«ã‚’æœ‰ã—ã¦ã„ã‚‹ã®ã‹æ¸¬å®šã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚\nã‚¹ã‚­ãƒ«ã‚’ä¸Šã’ã‚‹ãŸã‚ã®è¬›åº§ã‚‚ç”¨æ„ã•ã‚Œã¦ã„ã¦ã‚ã‚ŠãŒãŸã‚„ã€‚ã€‚\nåŸºæœ¬çš„ã«ç„¡æ–™ã§åˆ©ç”¨ã§ãã‚‹ãŒã€è‰²ã€…åˆ¶é™ãŒã‚ã‚‹ã®ã§ã‚¬ãƒƒãƒ„ãƒªåˆ©ç”¨ã—ãŸã„æ™‚ã¯æœ‰æ–™ãƒ—ãƒ©ãƒ³ã‚’åˆ©ç”¨ã—ãŸæ–¹ãŒã„ã„ã‹ã‚‚ã€‚\ncheckio  urlï¼šhttps://checkio.org/ è¨€èªï¼šTypeScript, Python  ãƒ¬ãƒ™ãƒ«åˆ¥ã«å•é¡ŒãŒç”¨æ„ã•ã‚Œã¦ãŠã‚Šã€ã‚¯ãƒªã‚¢ã™ã‚‹ã“ã¨ã§ã‚ˆã‚Šé›£ã—ã„å•é¡Œã«æŒ‘æˆ¦ã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã€‚\ncheckioã®ä¸€ç•ªã„ã„ã¨æ€ã£ãŸã¨ã“ã‚ã¯ã€ä»–ã®äººã®è§£ç­”ãŒè¦‹ã‚Œã‚‹ã¨ã“ã‚ã ã¨æ€ã†ã€‚ è§£ç­”ã—ãŸå•é¡Œã«é™ã‚Šã€ä»–ã®äººã®è§£ç­”ã‚’ã„ãã¤ã‹è¦‹ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚\nå…¨éƒ¨ã§ã¯ãªã„ãŒã€å•é¡Œã«ã‚ˆã£ã¦ã¯ãƒ’ãƒ³ãƒˆã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã‚‚å¬‰ã—ã„ã€‚\nå•é¡Œæ–‡ã‚„ãƒ’ãƒ³ãƒˆã¯åŸºæœ¬è‹±èªã®ãŸã‚è‹±èªã®å‹‰å¼·ã«ã‚‚ãªã‚‹ï¼ˆã‹ã‚‚ã—ã‚Œãªã„ï¼‰ã€‚\nå‰ã¾ã§ã¯JavaScriptã¨Pythonã ã£ãŸãŒã€ã„ã¤ã®é–“ã«ã‹TypeScriptã«ãªã£ã¦ãŸã€‚\nAtCoder  urlï¼šhttps://atcoder.jp/home è¨€èªï¼šè‰²ã€…  ç«¶æŠ€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚µã‚¤ãƒˆã€‚ç«¶æŠ€ã«å‚åŠ ã—ãªãã¦ã‚‚éå»å•ã¸æŒ‘æˆ¦ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚\ncheckioã¨åŒæ§˜ä»–ã®äººã®è§£ç­”ã‚’è¦‹ã‚‹ã“ã¨ãŒã§ãã‚‹ãŸã‚ã€ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®å‹‰å¼·ã‚’ã™ã‚‹ã®ã«è‰¯ã„ã€‚\nã‚¤ãƒ³ãƒ•ãƒ©ç·¨ katakoda  urlï¼šhttps://www.katacoda.com/  Dockerã‚„Kuberentesãªã©ã‚’å‹‰å¼·ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚\nä¾‹ãˆã°Dockerã ã¨ã“ã‚“ãªæ„Ÿã˜ã§ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä¸€è¦§ãŒå‡ºã¦ãã‚‹ã®ã§ã€ã€ŒStart xxxã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã€‚\nè§¦ã£ãŸã“ã¨ã®ãªã„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãªã©ã‚’ã•ã£ãã‚Šè©¦ã—ã¦ã¿ãŸã„æ™‚ã«ãŠã™ã™ã‚ã€‚\nãã®ä»– Udemy  urlï¼šhttps://www.udemy.com/  ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®å‹‰å¼·ã‹ã‚‰è³‡æ ¼å–å¾—ã®ãŸã‚ã®æ•™æã¾ã§ã€å¤šç¨®å¤šæ§˜ãªã‚³ãƒ¼ã‚¹ãŒç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã€‚\næœ‰æ–™ã ãŒæ™‚ã€…ã‚»ãƒ¼ãƒ«ã‚’è¡Œã£ã¦ã„ã‚‹ãŸã‚ã€ã‚»ãƒ¼ãƒ«æ™‚ã«å¤§äººè²·ã„ã—ã¦å°‘ã—ãšã¤ã“ãªã—ã¦ã„ãã®ãŒè‰¯ã„ã‹ã‚‚ã€‚\n","description":"","id":6,"section":"posts","tags":["è‡ªå·±å•“ç™º"],"title":"å‹‰å¼·ã™ã‚‹ã®ã«ãŠã™ã™ã‚ãªã‚µã‚¤ãƒˆ","uri":"https://www.anypalette.com/ja/posts/20210315_study-page/"},{"content":"base64ã‚³ãƒãƒ³ãƒ‰ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼š8.22ã®å ´åˆ\nã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ 1 2  $ echo \u0026#39;password\u0026#39; | base64 cGFzc3dvcmQK   ãƒ‡ã‚³ãƒ¼ãƒ‰ 1 2  $ echo \u0026#39;cGFzc3dvcmQK\u0026#39; | base64 -e password   ç°¡å˜ãªã®ã«ã„ã–ä½¿ãŠã†ã¨ã™ã‚‹ã¨ä½¿ã„æ–¹å¿˜ã‚Œã¦ã¦ã‚°ã‚°ã‚‹ã“ã¨ãŒå¤šã„(æ±—\n","description":"","id":7,"section":"posts","tags":["linuxã‚³ãƒãƒ³ãƒ‰"],"title":"base64ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã£ã¦æ–‡å­—ã‚’ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰/ãƒ‡ã‚³ãƒ¼ãƒ‰ã™ã‚‹","uri":"https://www.anypalette.com/ja/posts/20210310_base64-command/"},{"content":"æ¦‚è¦ ã‚³ãƒ¡ãƒ³ãƒˆã‚’æŠ•ç¨¿ã§ãã‚‹æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹ã€‚\nèª¿ã¹ã¦ã¿ãŸã‚‰disqusã‚’åˆ©ç”¨ã—ãŸæ–¹æ³•ãŒå¤šã‹ã£ãŸã®ã§ãã‚Œã‚’åˆ©ç”¨ã—ã¦ã•ã£ãã‚Šã‚„ã£ã¦ã¿ã‚‹ã€‚\nã‚„ã£ã¦ã¿ã‚‹   ãƒ¦ãƒ¼ã‚¶ç™»éŒ²\ndisqusã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€SignUpã™ã‚‹ã€‚\n  ã‚µã‚¤ãƒˆã®ç™»éŒ²\nåˆ©ç”¨ã—ãŸã„ã‚µã‚¤ãƒˆã‚’ç™»éŒ²ã™ã‚‹ã€‚ç§ã®å ´åˆã“ã‚“ãªæ„Ÿã˜ã€‚\nã‚³ãƒ¡ãƒ³ãƒˆã®æ©Ÿèƒ½ã ã‘ä½¿ã„ãŸã„ã®ã§Basicï¼ˆç„¡æ–™ï¼‰ã‚’é¸æŠã™ã‚‹ã€‚\nå¯¾å¿œã™ã‚‹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ãŒãªã‹ã£ãŸãŸã‚install manuallyã‚’é¸æŠã™ã‚‹ã€‚\nã‚³ãƒ¡ãƒ³ãƒˆå…¥åŠ›æ™‚ã®color schemaãªã©disqusã«é–¢ã™ã‚‹è¨­å®šã‚’è¡Œã†ã€‚ ä»Šå›ã¯ã“ã‚“ãªæ„Ÿã˜ã«ã—ãŸã€‚\nãƒ¢ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¿ã‚¤ãƒ—ã‚’é¸æŠã™ã‚‹ã€‚\nå¾Œã‹ã‚‰å¤‰æ›´å¯èƒ½ã¨ã®ã“ã¨ãªã®ã§ä¸€æ—¦strictã‚’è¨­å®šã€‚\n  ãƒ–ãƒ­ã‚°ï¼ˆHUGOï¼‰ã®è¨­å®šè¿½åŠ \nzzoãƒ†ãƒ¼ãƒã®layouts/_default/single.htmlã‚’ã¿ã¦ã¿ã‚‹ã¨ã€ã‚³ãƒ¡ãƒ³ãƒˆã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹ã¨ã“ã‚ãŒã‚ã£ãŸã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13  \u0026lt;/article\u0026gt; {{ partial \u0026#34;script/clipboard-script\u0026#34; . }} {{ partial \u0026#34;script/codeblock-script\u0026#34; . }} {{ partial \u0026#34;body/share\u0026#34; . }} {{ partial \u0026#34;body/donation\u0026#34; . }} {{ partial \u0026#34;body/whoami\u0026#34; . }} {{ partial \u0026#34;body/related\u0026#34; . }} {{ partial \u0026#34;pagination/pagination-single\u0026#34; . }} {{ partial \u0026#34;comments/comments.html\u0026#34; . }} {{ partial \u0026#34;body/photoswipe\u0026#34; . }} \u0026lt;div class=\u0026#34;hide\u0026#34;\u0026gt;   partials/comments/comments.htmlã‚’ã¿ã¦ã¿ã‚‹ã¨paramsã®enableCommentã¨disqus_shortname\nã«è¨­å®šãŒå…¥ã£ã¦ã„ã‚Œã°æœ‰åŠ¹åŒ–ã•ã‚Œãã†ã€‚\n1 2 3 4 5  {{ if $.Param \u0026#34;enableComment\u0026#34; }} {{ if $.Param \u0026#34;disqus_shortname\u0026#34; }} {{ partial \u0026#34;comments/disqus.html\u0026#34; . }} {{ end }} {{ end }}   config/_default/params.tomlã®è¨­å®šã‚’ä¿®æ­£ã™ã‚‹ã€‚\ndisqus_shortnameã¯diaqusã®General -\u0026gt; Shortnameã‹ã‚‰ç¢ºèªã™ã‚‹ã€‚\n1 2  enableComment = true disqus_shortname = \u0026#34;your_disqus_shortname\u0026#34;   å‡ºã¦ããŸã€‚\n  å‚è€ƒ å‚è€ƒã«ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚\n Hugo ã§ä½œã£ãŸãƒ–ãƒ­ã‚°ã« Disqus ã‚’ä½¿ã£ã¦ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹ Add Disqus(HUGOå…¬å¼)  ","description":"","id":8,"section":"posts","tags":null,"title":"ãƒ–ãƒ­ã‚°ã«ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹(disqus)","uri":"https://www.anypalette.com/ja/posts/20210103_add-blog-comment/"},{"content":"æ¦‚è¦ ä»Šå›ã¯ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå‰ã€å®Ÿè¡Œå¾Œï¼ˆsetup, teardownï¼‰ã®å‡¦ç†ã«ã¤ã„ã¦ã¾ã¨ã‚ã‚‹ã€‚\nä½¿ã„æ–¹ @pytest.fixture()ã¨ã„ã†ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ã‚’è¨­å®šã™ã‚Œã°ã‚ˆã„ã€‚\nyieldä»¥é™ã¯ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚ŒãŸå¾Œã«å®Ÿè¡Œã•ã‚Œã‚‹ï¼ˆteardownï¼‰ã€‚\nä½¿ã„ãŸã„ãƒ†ã‚¹ãƒˆé–¢æ•°ã®å¼•æ•°ã«fixtureã®é–¢æ•°åã‚’æŒ‡å®šã™ã‚‹ã¨ä½¿ã†ã“ã¨ãŒã§ãã‚‹ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24  import pytest @pytest.fixture def pre_function(): print(\u0026#34;\\nå®Ÿè¡Œå‰\u0026#34;) yield \u0026#34;ä»¥é™ã¯è©¦é¨“å®Ÿè¡Œå¾Œã«å‡¦ç†ã•ã‚Œã‚‹\u0026#34; print(\u0026#34;\\nå®Ÿè¡Œå¾Œ\u0026#34;) def test_setup_teardown_1(pre_function): print(\u0026#34;test_1\u0026#34;) # è©¦é¨“ãƒ‡ãƒ¼ã‚¿ a = 1 b = 1 assert a == b, \u0026#34;aaa\u0026#34; def test_setup_teardown_2(): print(\u0026#34;test_2\u0026#34;) # è©¦é¨“ãƒ‡ãƒ¼ã‚¿ a = 2 b = 2 assert a == b   å®Ÿè¡Œçµæœã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚‹ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  pytest tests/test_setup_teardown.py --capture=no î‚² 1 âœ˜ î‚³ 23:14:41 ï€— ======================================================================================== test session starts ======================================================================================== platform darwin -- Python 3.9.0, pytest-6.2.1, py-1.10.0, pluggy-0.13.1 rootdir: /Users/hogehoge/ plugins: html-3.1.1, metadata-1.11.0, cov-2.10.1 collected 2 items tests/test_setup_teardown.py å®Ÿè¡Œå‰ test_1 . å®Ÿè¡Œå¾Œ test_2 . ========================================================================================= 2 passed in 0.01s =========================================================================================   @pytest.fixtureã«ã¯è‰²ã€…ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ãŒå¯èƒ½ï¼ˆè©³ç´°ã¯å…¬å¼å‚ç…§ï¼‰ã€‚ ä¸­ã§ã‚‚scopeã¨autouseã¯ã‚ˆãä½¿ã†ã¨æ€ã†ã®ã§ä¸€å¿œã¾ã¨ã‚ã¦ã¿ã‚‹ã€‚\nscope scope=\u0026quot;ã‚¹ã‚³ãƒ¼ãƒ—å\u0026quot;ã®å½¢å¼ã§è¨­å®šã™ã‚‹ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯functionï¼‰ã€‚fixtureã®ã‚¹ã‚³ãƒ¼ãƒ—ï¼ˆé©ç”¨ç¯„å›²ï¼‰ã‚’æŒ‡å®šã§ãã‚‹ã€‚\nfunction, class, module, package, sessionã®ã†ã¡ã‹ã‚‰é¸ã¶ã€‚\n   ã‚¹ã‚³ãƒ¼ãƒ—å èª¬æ˜ ä¾‹(ä»¥ä¸‹è©¦ã—ã¦ã¿ãŸã§åˆ©ç”¨ã—ãŸåå‰)     function ãƒ†ã‚¹ãƒˆé–¢æ•°ã®å®Ÿè¡Œå‰å¾Œã§ setup/teardownãŒå®Ÿè¡Œã•ã‚Œã‚‹ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã€‚ test_function_1   class ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã®å®Ÿè¡Œå‰å¾Œã§ ã€ƒ ã€‚ TestClass   module ãƒ†ã‚¹ãƒˆãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®å®Ÿè¡Œå‰å¾Œã§ ã€ƒ ã€‚ test_scope_1.py   package ãƒ†ã‚¹ãƒˆãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å‰å¾Œã§ ã€ƒ ã€‚ scope/package1   session å…¨ä½“é€šã—ã¦ä¸€å›setup/teardownãŒå®Ÿè¡Œã•ã‚Œã‚‹ã€‚ -    autouse autouse=True or Falseã®å½¢å¼ã§è¨­å®šã™ã‚‹ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯Falseï¼‰ã€‚Trueã‚’è¨­å®šã™ã‚‹ã¨å¯¾è±¡ã®scopeã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãè‡ªå‹•çš„ã«setup/teardownã—ã¦ãã‚Œã‚‹ã€‚\nè©¦é¨“ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒå¤šããªã£ã¦ãã‚‹ã¨å€‹åˆ¥ã«fixtureã®è¨­å®šã‚’ã™ã‚‹ã®ãŒã‹ãªã‚Šé¢å€’ã«ãªã‚‹ãŸã‚ã€å…±é€šçš„ãªã‚‚ã®ã¯autouseã‚’åˆ©ç”¨ã™ã‚‹ã¨ä¾¿åˆ©ã€‚\nè©¦ã—ã¦ã¿ãŸ ç¢ºèªã‹ã­ã¦è¨­å®šã—ãŸã‚‰ã©ã‚“ãªã‚‚ã‚“ã‹è©¦ã—ã¦ã¿ãŸã€‚\nmoduleã¨packageã®å‹•ä½œç¢ºèªã‚’è¡Œã†ãŸã‚ä»¥ä¸‹ã®ã‚ˆã†ãªæ§‹æˆã«ã—ãŸã€‚\nâ””â”€â”€ tests â””â”€â”€ scope â”œâ”€â”€ package1 | â”œâ”€â”€ test_scope_1.py # function ~ session ã¾ã§å…¨ç¨®é¡ã®fixtureè¨­å®š | â””â”€â”€ test_scope_2.py # fixtureã®è¨­å®šãªã—ï¼ˆmodule ã‚¹ã‚³ãƒ¼ãƒ—ã®å‹•ä½œç¢ºèªç”¨ï¼‰ â””â”€â”€ package2 â””â”€â”€ test_package_2.py # fixtureã®è¨­å®šãªã—ï¼ˆpackage ã‚¹ã‚³ãƒ¼ãƒ—ã®å‹•ä½œç¢ºèªç”¨ï¼‰ package1/test_scope_1.py\nå…¨ç¨®é¡ã®fixtureã‚’è¨­å®šã—ã€è‡ªå‹•çš„ã«å¯¾è±¡ã®ã‚¹ã‚³ãƒ¼ãƒ—ã®å‰å¾Œå‡¦ç†ãŒè¡Œã‚ã‚Œã‚‹ã‚ˆã†ã«å…¨ã¦autouseã¯Trueã«è¨­å®šã—ãŸã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61  import pytest @pytest.fixture(scope=\u0026#34;function\u0026#34;, autouse=True) def pre_function(): scope = \u0026#34;Function\u0026#34; print(f\u0026#34;\\n=== SETUP {scope} ===\u0026#34;) yield print(f\u0026#34;\\n=== TEARDOWN {scope} ===\\n\u0026#34;) @pytest.fixture(scope=\u0026#34;class\u0026#34;, autouse=True) def pre_class(): scope = \u0026#34;Class\u0026#34; print(f\u0026#34;\\n*** SETUP {scope} ***\u0026#34;) yield print(f\u0026#34;\\n*** TEARDOWN {scope} ***\\n\u0026#34;) @pytest.fixture(scope=\u0026#34;module\u0026#34;, autouse=True) def pre_module(): scope = \u0026#34;Module\u0026#34; print(f\u0026#34;\\n--- SETUP {scope} ---\u0026#34;) yield print(f\u0026#34;\\n--- TEARDOWN {scope} ---\\n\u0026#34;) @pytest.fixture(scope=\u0026#34;package\u0026#34;, autouse=True) def pre_package(): scope = \u0026#34;Package\u0026#34; print(f\u0026#34;\\n\u0026lt;\u0026lt;\u0026lt; SETUP {scope} \u0026gt;\u0026gt;\u0026gt;\u0026#34;) yield print(f\u0026#34;\\n\u0026lt;\u0026lt;\u0026lt; TEARDOWN {scope} \u0026gt;\u0026gt;\u0026gt;\\n\u0026#34;) @pytest.fixture(scope=\u0026#34;session\u0026#34;, autouse=True) def pre_session(): scope = \u0026#34;Session\u0026#34; print(f\u0026#34;\\n@@@ SETUP {scope} @@@\u0026#34;) yield print(f\u0026#34;\\n@@@ TEARDOWN {scope} @@@\\n\u0026#34;) def test_function_1(): print(\u0026#34;test_function_1\u0026#34;) # è©¦é¨“ãƒ‡ãƒ¼ã‚¿ a = 1 assert a == 1 class TestClass: def test_class_1(self): print(\u0026#34;test_class_1\u0026#34;) # è©¦é¨“ãƒ‡ãƒ¼ã‚¿ a = 1 assert a == 1 def test_class_2(self): print(\u0026#34;test_class_2\u0026#34;) # è©¦é¨“ãƒ‡ãƒ¼ã‚¿ a = 1 assert a == 1   package1/test_scope_2.py\n1 2 3 4 5 6 7 8 9 10 11 12 13  class TestClass: def test_class_no_fixture(self): print(\u0026#34;\\ntest_class_no_fixture\u0026#34;) # è©¦é¨“ãƒ‡ãƒ¼ã‚¿ a = 1 assert a == 1 def test_function_no_fixture(): print(\u0026#34;\\ntest_function_no_fixture\u0026#34;) # è©¦é¨“ãƒ‡ãƒ¼ã‚¿ a = 1 assert a == 1   å®Ÿè¡Œçµæœã¯ä»¥ä¸‹ã®é€šã‚Šã€‚\nå¤§ä½“æƒ³åƒé€šã‚Šã ã£ãŸãŒã€ãƒ¡ãƒ³ãƒé–¢æ•°ã§ã¯ãªã„æ™®é€šã®é–¢æ•°ãƒ†ã‚¹ãƒˆã‚‚å‰å¾Œã«class scopeã®å‡¦ç†ãŒè¡Œã‚ã‚Œã‚‹ã®ãŒæƒ³å®šå¤–ã ã£ãŸã€‚\n(pythonæœ¬ä½“ã®ã‚½ãƒ¼ã‚¹è¦‹ã¦ãªã„ãŒã€é–¢æ•°ã¯è¦å®šã‚¯ãƒ©ã‚¹ã®ãƒ¡ãƒ³ãƒé–¢æ•°ã¨ã„ã†ä½ç½®ä»˜ã‘ãªã®ã‹ã‚‚ãªã¨äºˆæƒ³ã€‚ãã®ã†ã¡æœ¬ä½“ã®ã‚½ãƒ¼ã‚¹è¦‹ã¦ã¿ãŸã„ã€‚ã€‚)\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60  $ pytest tests/scope --capture=no ======================================================================================== test session starts ======================================================================================== platform darwin -- Python 3.9.0, pytest-6.2.1, py-1.10.0, pluggy-0.13.1 rootdir: /Users/hogehoge plugins: html-3.1.1, metadata-1.11.0, cov-2.10.1 collected 6 items tests/scope/package1/test_scope_1.py @@@ SETUP Session @@@ \u0026lt;\u0026lt;\u0026lt; SETUP Package \u0026gt;\u0026gt;\u0026gt; --- SETUP Module --- *** SETUP Class *** === SETUP Function === test_function_1 . === TEARDOWN Function === *** TEARDOWN Class *** *** SETUP Class *** === SETUP Function === test_class_1 . === TEARDOWN Function === === SETUP Function === test_class_2 . === TEARDOWN Function === *** TEARDOWN Class *** --- TEARDOWN Module --- tests/scope/package1/test_scope_2.py test_class_no_fixture . test_function_no_fixture . tests/scope/package2/test_package_2.py test_package_2 . \u0026lt;\u0026lt;\u0026lt; TEARDOWN Package \u0026gt;\u0026gt;\u0026gt; @@@ TEARDOWN Session @@@ ========================================================================================= 6 passed in 0.06s =========================================================================================   æ„Ÿæƒ³ testsãƒ•ã‚©ãƒ«ãƒ€ç›´ä¸‹ã«ã¯ä¸€ã¤å‰ã®è¨˜äº‹ã®pytestç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒã‚ã£ãŸã®ã§scopeå‹•ä½œç¢ºèªæ™‚ã®ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆãŒæ°—æŒã¡æ‚ªã„æ„Ÿã˜ã«ãªã£ãŸã€‚è¨˜äº‹ã”ã¨ã«ãƒ•ã‚©ãƒ«ãƒ€åˆ†ã‘ã‚Œã°ã‚ˆã‹ã£ãŸã€‚\nå…¬å¼ã‚’ã¿ã¦ã¿ã‚‹ã¨ä»–ã«ã‚‚ä¾¿åˆ©ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒãŸãã•ã‚“ã‚ã‚Šãã†ãªã®ã§ã€æ–°ã—ã„ã‚ªãƒ—ã‚·ãƒ§ãƒ³åˆ©ç”¨ã™ã‚‹åº¦è¿½è¨˜ã—ã¦ã„ããŸã„ã€‚\nå‚è€ƒ  How do I correctly setup and teardown for my pytest class with tests? docs.pytest.org  ","description":"","id":9,"section":"posts","tags":["Python","test","pytest"],"title":"pytestã‚’ä½¿ã£ã¦ã¿ã‚‹â‘¡ã€å®Ÿè¡Œå‰ã€å®Ÿè¡Œå¾Œå‡¦ç†ç·¨ã€‘","uri":"https://www.anypalette.com/ja/posts/20201231_how-to-pytest-2/"},{"content":"èƒŒæ™¯ æœ€è¿‘ä»•äº‹ã§Pytestã‚’ä½¿ã£ãŸUnitTestã‚’ã‹ãæ©Ÿä¼šãŒã‚ã£ãŸã®ã§ä½¿ã„æ–¹ã‚’å¿˜ã‚Œãªã„ã‚ˆã†ã«ãƒ¡ãƒ¢ã€‚å‚è€ƒã«ã‚‚ã‚ã‚‹ãŒã€ã“ã¡ã‚‰ã®ã‚µã‚¤ãƒˆãŒã™ã”ãã‚ã‹ã‚Šã‚„ã™ã‹ã£ãŸã€‚\næ„Ÿè¬ã€‚ã€‚ã€‚ï¼\nã¡ãªã¿ã«å®Ÿè¡Œç’°å¢ƒã¯macã§åˆ©ç”¨ã—ã¦ã„ã‚‹pythonã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯python3.9.0ã§ã™ã€‚\npytestã¨ã¯ Pythonè£½ã®ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ä¸€ã¤ã€‚ä¼¼ãŸã‚ˆã†ãªã‚‚ã®ã«unittestãŒã‚ã‚‹ã€‚unittestã¯æ¨™æº–ã§ä½¿ãˆã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã ãŒã€pytestã¯ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå¿…è¦ã¨ãªã‚‹ã€‚\nã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’ç®—å‡ºã—ãŸã‚Šã€çµæœã‚’htmlãƒ•ã‚¡ã‚¤ãƒ«ã«å‡ºåŠ›ã™ã‚‹ã“ã¨ãŒã§ãã¦ä¾¿åˆ©ã€‚\nåŸºæœ¬çš„ãªä½¿ã„æ–¹ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³• pipã‚³ãƒãƒ³ãƒ‰ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå¯èƒ½\n1  $ pip install pytest   ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ . â”œâ”€â”€ src â”‚Â â”œâ”€â”€ main.py â”‚Â â””â”€â”€ util â”‚Â â”œâ”€â”€ __init__.py â”‚Â â””â”€â”€ util.py â””â”€â”€ tests â”œâ”€â”€ __init__.py â”œâ”€â”€ conftest.py â””â”€â”€ test_main.py srcã¨testsã¯åˆ†ã‘ãŸæ–¹ãŒç®¡ç†ã—ã‚„ã™ã„ã®ã§åˆ†å‰²ã€‚\nCIãªã©ã§testã‚’å®Ÿè¡Œã—ãŸæ™‚ã«PATHé€šã‚‹ã‚ˆã†ã€conftest.pyã¯ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ã„ãŸã€‚\n1 2 3 4  import sys import os sys.path.append(os.path.abspath(os.path.dirname(os.path.abspath(__file__)) + \u0026#34;/../src/\u0026#34;))   å®Ÿè¡Œã—ãŸã„ãƒ†ã‚¹ãƒˆã®ãƒ•ã‚¡ã‚¤ãƒ«åã¯test_xxx.pyã®åå‰ã‚’ã¤ã‘ã‚‹ã¨è‰¯ã„ã€‚è‡ªå‹•ã§ãƒ†ã‚¹ãƒˆå¯¾è±¡ã¨ã—ã¦ã¿ãªã—ã¦ãã‚Œã‚‹ã€‚\nåŸºæœ¬çš„ãªæ›¸ãæ–¹ã¨å®Ÿè¡Œæ–¹æ³• åŸºæœ¬çš„ãªæ›¸ãæ–¹ 1 2 3 4 5 6 7  def test_main_01(): # è©¦é¨“å®Ÿæ–½ a = 1 b = 1 # çµæœã®æ¤œè¨¼ assert a == b   å®Ÿè¡Œæ–¹æ³• ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’ã¾ã¨ã‚ã¦å®Ÿè¡Œã™ã‚‹ rootï¼ˆä»Šå›ã®ä¾‹ã§ã¯.ï¼‰ã§å®Ÿè¡Œã€‚\ntests/é…ä¸‹ã®ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã‚‹ã€‚\n1  $ pytest .   è©¦é¨“ã‚±ãƒ¼ã‚¹ã‚’æŒ‡å®šã—ã¦å®Ÿè¡Œã™ã‚‹ ä¾‹ãˆã°test_main.pyãƒ•ã‚¡ã‚¤ãƒ«å†…ã®test_main_01ã‚’å®Ÿè¡Œã—ãŸã„æ™‚ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«æŒ‡å®šã™ã‚‹ã€‚\n1 2 3 4 5 6 7 8 9 10 11  $ pytest tests/test_main.py::test_main_2 # \u0026#34;-v\u0026#34;ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ã¤ã‘ã‚‹ã¨æŒ‡å®šã®ä»•æ–¹ã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¦ä¾¿åˆ©ã€‚ $ pytest . -v ======================================================================================== test session starts ======================================================================================== cachedir: .pytest_cache rootdir: /Users/hogehoge/ collected 2 items tests/test_main.py::test_main_01 PASSED [ 50%] tests/test_main.py::test_main_02 PASSED [100%]   ãã®ã»ã‹ä¾¿åˆ©ãªæ©Ÿèƒ½ ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’å‡ºã—ãŸã„æ™‚ pytest-covã‚’åˆ©ç”¨ã™ã‚‹ã€‚\n1  $ pip install pytest-cov   ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¾Œã€pytestã‚³ãƒãƒ³ãƒ‰ã«ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ã¤ã‘ã‚‹ã“ã¨ã§ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’è¡¨ç¤ºã™ã‚‹ã“ã¨ãŒå¯èƒ½ã«ãªã‚‹ã€‚\nä»Šå›ã®ä¾‹ã§ã¯src/é…ä¸‹ã«ã‚½ãƒ¼ã‚¹ã‚’æ ¼ç´ã—ã¦ã„ã‚‹ãŸã‚srcã‚’è¨­å®šã—ãŸã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  # \u0026#34;-v\u0026#34;ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ã¤ã‘ã‚‹ã¨ä¸€ã¤ä¸€ã¤ã®è©¦é¨“çµæœãŒè¡¨ç¤ºã•ã‚ŒçµæœãŒè¦‹ã‚„ã™ããªã‚‹ $ pytest -v --cov=src ======================================================================================== test session starts ======================================================================================== cachedir: .pytest_cache rootdir: /Users/hogehoge/ plugins: cov-2.10.1 collected 2 items tests/test_main.py::test_main_1 PASSED [ 50%] tests/test_main.py::test_main_2 PASSED [100%] ---------- coverage: platform darwin, python 3.9.0-final-0 ----------- Name Stmts Miss Cover ------------------------------------------ src/main.py 9 1 89% src/util/__init__.py 0 0 100% src/util/util.py 2 0 100% ------------------------------------------ TOTAL 11 1 91% ========================================================================================= 2 passed in 0.08s =========================================================================================   ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’HTMLã§è¡¨ç¤ºã—ãŸã„ ãƒ†ã‚¹ãƒˆã§ãã¦ã„ã‚‹ã¨ã“ã‚ / ã„ãªã„ã¨ã“ã‚ã‚’ç¢ºèªã™ã‚‹ $ pytest --cov=src --cov-report=html ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ãŸãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«htmlcovãƒ•ã‚©ãƒ«ãƒ€ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹ã€‚ãƒ•ã‚©ãƒ«ãƒ€å†…ã®index.htmlã‚’é–‹ãã¨ãƒ•ã‚¡ã‚¤ãƒ«ã”ã¨ã®ã‚«ãƒãƒ¬ãƒƒã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã€‚ãã‚Œãã‚Œãƒªãƒ³ã‚¯ã«ãªã£ã¦ã„ã¦ã€ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ãƒ†ã‚¹ãƒˆãŒã§ãã¦ã„ã‚‹ã¨ã“ã‚ã¨ãã†ã§ãªã„ã¨ã“ã‚ã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚\nsrc/main.pyã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã©ã“ãŒãƒ†ã‚¹ãƒˆã§ãã¦ã„ãªã„ã®ã‹ã™ãã‚ã‹ã‚‹ã€‚\nãƒ†ã‚¹ãƒˆçµæœã®ã‚µãƒãƒªã‚’HTMLã§è¡¨ç¤ºã™ã‚‹ pytest-htmlã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã€‚\n1 2 3 4 5 6  # ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« $ pip install pytest-html # å®Ÿè¡Œæ–¹æ³• # --html=\u0026lt;å‡ºåŠ›ã—ãŸã„ãƒ•ã‚¡ã‚¤ãƒ«å\u0026gt; $ pytest . --html=cov.html   ä»¥ä¸‹ã®ã‚ˆã†ã«è©¦é¨“çµæœãŒè¡¨ç¤ºã•ã‚Œã‚‹ã€‚\nãƒ†ã‚¹ãƒˆå¯¾è±¡å¤–ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¨­å®šã—ãŸã„ pytestå¯¾è±¡å¤–ã¨ã—ãŸã„ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹æ™‚ã®è¨­å®šæ–¹æ³•ã€‚\nrootãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«.coveragercã‚’ä½œæˆã™ã‚‹ï¼ˆä»Šå›ã®ä¾‹ã§ã¯src, testsãƒ•ã‚©ãƒ«ãƒ€ã¨åŒã˜éšå±¤ã«ä½œæˆï¼‰\n. â”œâ”€â”€ src â”œâ”€â”€ tests â””â”€â”€ .coveragerc .coveragercã«å¯¾è±¡å¤–ã¨ã—ãŸã„ãƒ•ã‚©ãƒ«ãƒ€ã‚„ãƒ•ã‚¡ã‚¤ãƒ«åã‚’è¨˜è¿°ã™ã‚‹ã€‚\n1 2 3 4  [run] omit =# __init__.py ãƒ•ã‚¡ã‚¤ãƒ«ã¯ãƒ†ã‚¹ãƒˆå¯¾è±¡å¤–ã¨ã™ã‚‹ */__init__.py   è©¦é¨“ã‚’å®Ÿè¡Œã™ã‚‹ã¨è¨­å®šã—ãŸãƒ•ã‚©ãƒ«ãƒ€ã‚„ãƒ•ã‚¡ã‚¤ãƒ«ãŒãƒ†ã‚¹ãƒˆå¯¾è±¡å¤–ã¨ãªã£ã¦ã„ã‚‹ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  $ pytest --cov=src ======================================================================================== test session starts ======================================================================================== platform darwin -- Python 3.9.0, pytest-6.2.1, py-1.10.0, pluggy-0.13.1 rootdir: /Users/hogehoge/ plugins: html-3.1.1, metadata-1.11.0, cov-2.10.1 collected 2 items tests/test_main.py .. [100%] ---------- coverage: platform darwin, python 3.9.0-final-0 ----------- Name Stmts Miss Cover -------------------------------------- src/main.py 9 1 89% src/util/util.py 2 0 100% -------------------------------------- TOTAL 11 1 91% ========================================================================================= 2 passed in 0.09s =========================================================================================   ãƒ†ã‚¹ãƒˆã§å¤±æ•—ã—ãŸæ™‚ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‡ºåŠ›ã—ãŸã„ assertå¾Œã«ã‚«ãƒ³ãƒ(,)ã‚’ã¤ã‘ã€ãã®å¾Œãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æ›¸ãã€‚\n1 2 3 4 5 6 7  def test_main_failure_1(): # è©¦é¨“ãƒ‡ãƒ¼ã‚¿ a = 1 b = 5 # ãƒ†ã‚¹ãƒˆã«å¤±æ•—ã—ãŸæ™‚ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ assert a == b, \u0026#34;a not equal b\u0026#34;   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  pytest tests/test_main_failure.py ======================================================================================== test session starts ======================================================================================== platform darwin -- Python 3.9.0, pytest-6.2.1, py-1.10.0, pluggy-0.13.1 rootdir: /Users/hogehoge/ plugins: html-3.1.1, metadata-1.11.0, cov-2.10.1 collected 1 item tests/test_main_failure.py F [100%] ============================================================================================= FAILURES ============================================================================================== ________________________________________________________________________________________ test_main_failure_1 ________________________________________________________________________________________ def test_main_failure_1(): # è©¦é¨“ãƒ‡ãƒ¼ã‚¿ a = 1 b = 5 # æƒ³å®šå€¤ \u0026gt; assert a == b, \u0026#34;a not equal b\u0026#34; E AssertionError: a not equal b E assert 1 == 5 tests/test_main_failure.py:7: AssertionError ====================================================================================== short test summary info ====================================================================================== FAILED tests/test_main_failure.py::test_main_failure_1 - AssertionError: a not equal b ========================================================================================= 1 failed in 0.05s =========================================================================================   ã©ã‚“ãªãƒ‡ãƒ¼ã‚¿ãŒå…¥ã£ã¦ã„ã¦ã‚‚assertã®çµæœã‚’Trueã«ã—ãŸã„æ™‚ pytestã§ã¯ãªãã€æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã—ã¦ç”¨æ„ã•ã‚Œã¦ã„ã‚‹unittestã®ANYã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§å¯èƒ½ã€‚ æ»…å¤šã«ä½¿ã†ã‚±ãƒ¼ã‚¹ã¯ãªã„ãŒã€çŸ¥ã£ã¦ã„ã‚‹ã¨ã™ã”ãä¾¿åˆ©ã€‚ä¾‹ãˆã°mockã«ã—ãŸé–¢æ•°ã«æ¸¡ã•ã‚ŒãŸå¼•æ•°ã®assertã‚’ã—ãŸã„ãŒãã®ä¸€éƒ¨ãŒå®Ÿè¡Œæ™‚ç‚¹ã®ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã‚„ãƒ©ãƒ³ãƒ€ãƒ å€¤ãªã©äºˆæ¸¬ä¸èƒ½ãªå€¤ã§ã‚ã‚‹å ´åˆã«å¯¾è±¡é …ç›®ã®äºˆæ¸¬å€¤ã«ANYã‚’åˆ©ç”¨ã™ã‚‹ã€‚\nã©ã‚“ãªãƒ‡ãƒ¼ã‚¿ã§ã‚‚é€šã£ã¦ã—ã¾ã†ã®ã§åˆ©ç”¨ã™ã‚‹æ™‚ã¯æ³¨æ„ãŒå¿…è¦ã€‚ã€‚\n1 2 3 4 5 6 7 8  from unittest.mock import ANY def test_main_any_1(): # è©¦é¨“ãƒ‡ãƒ¼ã‚¿ a = None # ã“ã‚“ãªassertã‚‚å•é¡Œãªãé€šã‚‹ assert a == ANY   å‚è€ƒ å¤§å¤‰å‚è€ƒã«ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚\n PyPi(pytest) pytestå…¥é–€ - é—˜ã†ITã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®è¦šãˆæ›¸ã çŸ¥ã£ã¦ãŠãã¨ä¾¿åˆ©ï¼Pytestã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å°ãƒã‚¿é›† .coveragercã®æ›¸ãæ–¹ã«ã¤ã„ã¦  ","description":"","id":10,"section":"posts","tags":["Python","test","pytest"],"title":"pytestã‚’ä½¿ã£ã¦ã¿ã‚‹â‘ ã€æº–å‚™ãƒ»å®Ÿè¡Œç·¨ã€‘(python3.9.0)","uri":"https://www.anypalette.com/ja/posts/20201231_how-to-pytest-1/"},{"content":"æ¦‚è¦ Hugoã§è‡ªåˆ†å°‚ç”¨ã®ãƒ–ãƒ­ã‚°ã‚µã‚¤ãƒˆã‚’ä½œã£ãŸã‚‚ã®ã®ã€è¨˜äº‹ã‚’è¿½åŠ ã™ã‚‹åº¦ã«Domainã®è¨­å®šãŒåˆæœŸåŒ–ã•ã‚Œã‚‹ã¨ã„ã†å•é¡Œç™ºç”Ÿã€‚\nã“ã®ã¾ã¾ã ã¨è¨˜äº‹ã‚’æãã®ãŒå„„åŠ«ã«ãªã£ã¦ã—ã¾ã†ã®ã§å¯¾å‡¦ã™ã‚‹ã€‚\nå¯¾å‡¦å†…å®¹ ã“ã¡ã‚‰ãŒå¤§å¤‰å‚è€ƒã«ãªã‚Šã¾ã—ãŸã€‚\n https://tech-wafter.net/2020/deploy-custom-domain-github-pages-on-github-actions/ https://github.com/peaceiris/actions-gh-pages#%EF%B8%8F-disable-nojekyll  ä»Šã®CIã®è¨­å®šã‚’ã¿ã¦ã¿ã‚‹ã¨ç¢ºã‹ã«cnameå…¥ã£ã¦ãªã‹ã£ãŸã€‚ã€‚ã€‚è¿½åŠ ã—ã¦pushã—ãŸã‚‰ãƒ‰ãƒ¡ã‚¤ãƒ³ã®è¨­å®šãã®ã¾ã¾ã«ãªã£ã¦ã„ãŸã€‚\nã‚ˆã‹ã£ãŸï¼ï¼ï¼\n1 2 3 4 5 6 7  - name:Deployuses:peaceiris/actions-gh-pages@v3with:deploy_key:${{ secrets.ACTIONS_DEPLOY_KEY }}publish_dir:./publicpublish_branch:main cname:www.anypalette.com # \u0026lt;-è¿½åŠ ã—ãŸ  ","description":"","id":11,"section":"posts","tags":["github"],"title":"Github Pagesã®ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®šãŒåˆæœŸåŒ–ã•ã‚Œã‚‹","uri":"https://www.anypalette.com/ja/posts/20201219_github-action/"},{"content":"æ¦‚è¦ macã‚’ã‚‚ã‚‰ã£ã¦ã¾ãšã‚„ã‚‹zshã¨preztoã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †ã«ã¤ã„ã¦ã¾ã¨ã‚ã‚‹ã€‚\nzshã¨preztoãŒä½•ã‹ã«ã¤ã„ã¦ã¯å‰²æ„›ã™ã‚‹ã€‚\nä½œæ¥­æ‰‹é † zshã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— æœ€è¿‘ã®Macã¯ãƒ­ã‚°ã‚¤ãƒ³ã‚·ã‚§ãƒ«ã®è¨­å®šãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§zshã«ãªã£ã¦ã„ã‚‹ã€‚\nchsh -s /bin/zsh ã§ãƒ­ã‚°ã‚¤ãƒ³ã‚·ã‚§ãƒ«ã®å¤‰æ›´ãŒå¯èƒ½ã ãŒã€Macã®å ´åˆã‚·ã‚¹ãƒ†ãƒ ç’°å¢ƒè¨­å®šã«ãƒ­ã‚°ã‚¤ãƒ³ã‚·ã‚§ãƒ«ã®è¨­å®šãŒã‚ã‚‹ã€‚\niTerm2ã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹å ´åˆã€ã‚³ãƒãƒ³ãƒ‰ã‹ã‚‰ãƒ­ã‚°ã‚¤ãƒ³ã‚·ã‚§ãƒ«ã‚’å¤‰æ›´ã—ã¦ã‚‚ã‚·ã‚¹ãƒ†ãƒ ç’°å¢ƒè¨­å®šã‹ã‚‰ãƒ­ã‚°ã‚¤ãƒ³ã‚·ã‚§ãƒ«ã®å¤‰æ›´ã‚’ã—ãªã„ã¨åæ˜ ã•ã‚Œãªã„ãŸã‚æ³¨æ„ãŒå¿…è¦ã€‚\nãƒ­ã‚°ã‚¤ãƒ³ã‚·ã‚§ãƒ«ã®ç¢ºèªæ–¹æ³• ã‚·ã‚¹ãƒ†ãƒ ç’°å¢ƒè¨­å®š â†’ ãƒ¦ãƒ¼ã‚¶ã¨ã‚°ãƒ«ãƒ¼ãƒ— ã‚’é¸æŠ\néµãƒãƒ¼ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€ãƒ¦ãƒ¼ã‚¶ID, ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›\nãƒ¦ãƒ¼ã‚¶æƒ…å ±ã‚’å³ã‚¯ãƒªãƒƒã‚¯ã—ã€è©³ç´°ã‚ªãƒ—ã‚·ãƒ§ãƒ³ ã‚’é¸æŠã™ã‚‹\nãƒ­ã‚°ã‚¤ãƒ³ã‚·ã‚§ãƒ«ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹ã‚·ã‚§ãƒ«ã®ç¨®é¡ã‚’ç¢ºèªã™ã‚‹ã€‚\npreztoã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— macã«zshå…¥ã£ã¦ã„ãŸãŸã‚ç¶šã„ã¦preztoã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’è¡Œã†ã€‚\npreztoã®ãƒªãƒã‚¸ãƒˆãƒªã‚’cloneã™ã‚‹\n1  $ git clone --recursive https://github.com/sorin-ionescu/prezto.git \u0026#34;${ZDOTDIR:-$HOME}/.zprezto\u0026#34;   ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«, preztoè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ\n1 2 3 4  $ setopt EXTENDED_GLOB for rcfile in \u0026#34;${ZDOTDIR:-$HOME}\u0026#34;/.zprezto/runcoms/^README.md(.N); do ln -s \u0026#34;$rcfile\u0026#34; \u0026#34;${ZDOTDIR:-$HOME}/.${rcfile:t}\u0026#34; done   è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿®æ­£(~/.zpreztorc)\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  $ vi ~/.zpreztorc # ä»¥ä¸‹ã‚’è²¼ã‚Šä»˜ã‘ã‚‹ zstyle \u0026#39;:prezto:load\u0026#39; pmodule \\  \u0026#39;environment\u0026#39; \\  \u0026#39;terminal\u0026#39; \\  \u0026#39;editor\u0026#39; \\  \u0026#39;history\u0026#39; \\  \u0026#39;directory\u0026#39; \\  \u0026#39;spectrum\u0026#39; \\  \u0026#39;utility\u0026#39; \\  \u0026#39;completion\u0026#39; \\  \u0026#39;autosuggestions\u0026#39; \\  \u0026#39;syntax-highlighting\u0026#39; \\  \u0026#39;git\u0026#39; \\  \u0026#39;prompt\u0026#39;   powerline ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€è¨­å®š preztoãªã©ã®ãƒ†ãƒ¼ãƒã«ã¯powerlineã¨ã„ã†ãƒ•ã‚©ãƒ³ãƒˆãŒä½¿ã‚ã‚Œã¦ã„ã‚‹ã“ã¨ãŒå¤šãã‚ã‚Šã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã„ãŸã‚ãã®ã¾ã¾ã ã¨æ–‡å­—åŒ–ã‘ã—ã¦è¡¨ç¤ºã•ã‚Œã¦ã—ã¾ã†ã€‚\næ–‡å­—åŒ–ã‘ã—ãªã„ã‚ˆã†ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã€‚\niTerm2ã‚„VSCodeã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹å ´åˆã¯ã€ãã¡ã‚‰ã®terminalã‚‚æ–‡å­—åŒ–ã‘ã—ãªã„ã‚ˆã†ã«è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚\nã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« git(powerline/fonts) ã‚’cloneã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç”¨ã®shellã‚’å©ãã®ãŒè‰¯ã„ã€‚\n1 2 3 4 5 6  $ git clone https://github.com/powerline/fonts.git $ sh ./install.sh Copying fonts... Resetting font cache, this may take a moment... Powerline fonts installed to /Users/ayaka/Library/Fonts   è¨­å®šï¼ˆVSCodeï¼‰ VSCodeã‹ã‚‰è¨­å®šï¼ˆsetting.jsonï¼‰ã‚’é–‹ãã€‚\næ¤œç´¢ãƒœãƒƒã‚¯ã‚¹ã« terminal.integrated.fontFamily ã‚’å…¥åŠ›ã—æ¤œç´¢ã™ã‚‹ã€‚\nãƒ†ã‚­ã‚¹ãƒˆãƒœãƒƒã‚¯ã‚¹ã« Source Code Pro for Powerline ã‚’å…¥åŠ›ã™ã‚‹ã€‚terminalã®æ–‡å­—åŒ–ã‘ãŒç›´ã‚‰ãªã„å ´åˆã¯VSCodeã‚’å†èµ·å‹•ã™ã‚‹ã€‚\nè¨­å®šï¼ˆiTerm2ï¼‰ profiles â†’ Text â†’ Font ã‚ˆã‚Šå¥½ããªãƒ•ã‚©ãƒ³ãƒˆã‚’é¸ã¶ã€‚\nå‚è€ƒ å‚è€ƒã«ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚\n https://qiita.com/s_s_satoc/items/e3c1b9b3545fd572dd1c  ","description":"","id":12,"section":"posts","tags":["zsh","mac"],"title":"zsh, preztoã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã€Macã€‘","uri":"https://www.anypalette.com/ja/posts/20201214_install-zsh/"},{"content":"æ¦‚è¦ æ”¹è¡Œã‚³ãƒ¼ãƒ‰ã«ã‚‚ç¨®é¡ãŒã‚ã‚‹ã€‚CRã‚„ã‚‰LFã‚„ã‚‰CRLFã‚„ã‚‰ã€‚\nä¸€èˆ¬çš„ã«ã¯ã“ã‚“ãªæ„Ÿã˜ã‚‰ã—ã„ã€‚\n CRï¼šMacç³» LFï¼šLinuxç³» CRLFï¼šWindowsç³»  Macï¼ˆLinuxç³»ï¼‰ã§ãƒ•ã‚¡ã‚¤ãƒ«ã®æ”¹è¡Œã‚³ãƒ¼ãƒ‰ã£ã¦ã©ã†ã‚„ã£ã¦ç¢ºèªã™ã‚‹ã‚“ã ã£ã‘ã‹ã€‚ã¨ãªã£ãŸã®ã§ãƒ¡ãƒ¢ã€‚\nMacï¼ˆLinuxç³»ï¼‰ ã®å ´åˆ odã‚³ãƒãƒ³ãƒ‰ã§ç°¡å˜ã«èª¿ã¹ã‚‹ã“ã¨ãŒã§ããŸã€‚\n1 2 3 4  # æ”¹è¡Œã‚³ãƒ¼ãƒ‰ã«LFãŒä½¿ã‚ã‚Œã¦ã„ã‚‹ $ od -c sample.txt 0000000 h e l l o \\n w o r l d \\n 0000014   Windowsã®å ´åˆ Windowsã®å ´åˆã¯ãƒã‚¤ãƒŠãƒªã‚¨ãƒ‡ã‚£ã‚¿ï¼ˆStirlingã¨ã‹ï¼‰ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ãã“ã¨ã§ç¢ºèªã§ãã‚‹ã€‚\nãƒã‚¤ãƒŠãƒªï¼ˆ16é€²æ•°ï¼‰ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ãã€‚\n 0Aï¼šCR 0Dï¼šLF 0A0Dï¼šCRLF  10é€²æ•°è¡¨è¨˜ã§ãƒ•ã‚¡ã‚¤ãƒ«é–‹ã„ã¦ç¢ºèªã™ã‚‹ï¼ˆCRLFã¯\u0026quot;13 10\u0026quot;ï¼‰ã§ã‚‚è‰¯ã„ãŒã€16é€²æ•°ã®æ–¹ãŒè¦–è¦šçš„ã«ã‚ã‹ã‚Šã‚„ã™ãæ„Ÿã˜ã‚‹ã€‚\n","description":"","id":13,"section":"posts","tags":["linux"],"title":"ãƒ•ã‚¡ã‚¤ãƒ«ã®æ”¹è¡Œã‚³ãƒ¼ãƒ‰ã‚’ç¢ºèªã™ã‚‹","uri":"https://www.anypalette.com/ja/posts/20201126_file-line-feed-code/"},{"content":"èƒŒæ™¯ å‡¦ç†ã®çµæœã«å¿œã˜ã¦è‡ªå‹•çš„ã«ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã™ã‚‹æ©Ÿèƒ½ã‚’ä½œã‚ŠãŸã‹ã£ãŸã€‚\næœ€çµ‚çš„ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ·»ä»˜ã—ãŸãƒ¡ãƒ¼ãƒ«ã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚\nè©¦ã—ã¦ã¿ã‚‹ã€‚\nè©¦ã—ã¦ã¿ã‚‹ [step1] aws cliã‚’åˆ©ç”¨ã—ãŸãƒ¡ãƒ¼ãƒ«ã®é€ä¿¡æ–¹æ³• AWSCLIã‚’åˆ©ç”¨ã—ã¦é€ã‚‹ã¨ã©ã†ãªã‚‹ã®ã‹è©¦ã—ã¦ã¿ãŸã€‚\nãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã¯ã‚ªãƒ¬ã‚´ãƒ³ã§åˆ©ç”¨ã—ã¦ã„ãŸã®ã§ã‚ªãƒ¬ã‚´ãƒ³ã®IDã‚’æŒ‡å®šã€‚\n1 2 3 4 5 6  $ aws --region us-west-2 --profile=\u0026lt;ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«å\u0026gt; ses send-email --to send_to@example.com --from send_from@example.com --subject sample --text \u0026#34;`echo -e hogehoge`\u0026#34; # é€ä¿¡å®Œäº†ã™ã‚‹ã¨MessageIdãŒè¡¨ç¤ºã•ã‚Œã‚‹ # { # \u0026#34;MessageId\u0026#34;: \u0026#34;01010175efc9f343-a80ee339-a377-4228-bbfb-83c3d2e4ad40-000000\u0026#34; # }   ä½¿ã£ã¦ã„ãŸgmailã‚’å®›å…ˆã«ã—ã¦å®Ÿæ–½ã—ã€é€ä¿¡å¾Œãƒ¡ãƒ¼ãƒ«ãƒœãƒƒã‚¯ã‚¹ã‚’ç¢ºèªã™ã‚‹ã¨ç„¡äº‹ã«ãƒ¡ãƒ¼ãƒ«ãŒå±Šã„ã¦ã„ãŸï¼\næ¬¡ã¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ·»ä»˜ã—ã¦é€ä¿¡ã—ã¦ã¿ãŸã„ã¨ã“ã‚ã ãŒã€aws cliã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ·»ä»˜ã™ã‚‹æ–¹æ³•ãŒã™ãã«æ¤œç´¢ã§ããªã‹ã£ãŸã€‚ã€‚ã€‚\nãã®ãŸã‚ã€æ¬¡ã¯python(boto3)ã‚’åˆ©ç”¨ã—ã¦ãƒ¡ãƒ¼ãƒ«ã‚’é€ã‚Œã‚‹ã‚ˆã†ã«è©¦ã—ã¦ã¿ã‚‹ã€‚\n[step2] python(boto3)ã‚’åˆ©ç”¨ã—ã¦ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã™ã‚‹ ãƒ•ã‚¡ã‚¤ãƒ«ã®æ·»ä»˜ãªã©ã›ãšã€ãã®ã¾ã¾é€ä¿¡ã™ã‚‹ã€‚\nä»¥ä¸‹ã®ã‚µã‚¤ãƒˆãŒå‚è€ƒã«ãªã£ãŸã€‚\n boto3 Docs(SES) Pythonã§Amazon SESã‹ã‚‰ãƒ¡ãƒ¼ãƒ«ã‚’é€ã£ã¦ã¿ãŸï¼ˆQiitaï¼‰  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28  import boto3 client = boto3.client( \u0026#39;ses\u0026#39;, aws_access_key_id=\u0026#39;YourAccessKey\u0026#39;, # ã‚¢ã‚¯ã‚»ã‚¹ã‚­ãƒ¼ aws_secret_access_key=\u0026#39;YourSecretKey\u0026#39;, # ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚­ãƒ¼ region_name = \u0026#39;us-west-2\u0026#39; # ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆä»Šå›ã¯ã‚ªãƒ¬ã‚´ãƒ³ï¼‰ ) # ãƒ¡ãƒ¼ãƒ«é€ä¿¡ client.send_email( Source = \u0026#39;from@example.com\u0026#39;, # é€ä¿¡å…ƒãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ Destination = { \u0026#39;ToAddresses\u0026#39;: [\u0026#39;to@example.com\u0026#39;] # å®›å…ˆãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ }, Message = { \u0026#39;Subject\u0026#39;: { \u0026#39;Data\u0026#39;: \u0026#39;title\u0026#39;, \u0026#39;Charset\u0026#39;: \u0026#39;UTF-8\u0026#39; }, \u0026#39;Body\u0026#39;: { \u0026#39;Text\u0026#39;: { \u0026#39;Data\u0026#39;: \u0026#39;hello\u0026#39;, \u0026#39;Charset\u0026#39;: \u0026#39;UTF-8\u0026#39; } } } )   [step3] ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ·»ä»˜ã—ã¦ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã™ã‚‹ï¼ˆpython, boto3ï¼‰ å…¬å¼ã‚’ã¿ã¦ã¿ã‚‹ã¨ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ·»ä»˜ã—ã¦ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã™ã‚‹å ´åˆã€send_emailã§ã¯ãªãsend_raw_emailã‚’åˆ©ç”¨ã™ã‚‹ã‚‰ã—ã„ã€‚\nsend_raw_emailã¯send_emailã¨å¼•æ•°ãŒç•°ãªã‚‹ãŸã‚å°‘ã—è©°ã¾ã£ãŸã€‚\nå…¬å¼ã«ã‚ã‚‹ä¾‹ã‚’å‚è€ƒã«ã—ã¦ãªã‚“ã¨ã‹ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã™ã‚‹ã“ã¨ã¯ã§ããŸã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  import boto3 client = boto3.client( \u0026#39;ses\u0026#39;, aws_access_key_id=\u0026#39;YourAccessKey\u0026#39;, aws_secret_access_key=\u0026#39;YourSecretKey\u0026#39;, region_name = \u0026#39;us-west-2\u0026#39; ) # ãƒ¡ãƒ¼ãƒ«é€ä¿¡ client.send_raw_email( Source = \u0026#39;from@example.com\u0026#39;, # é€ä¿¡å…ƒãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ Destinations=[ # é€ä¿¡å…ˆãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ \u0026#34;to_1@example.com\u0026#34;, \u0026#34;to_2@example.com\u0026#34; ], RawMessage={ \u0026#39;Data\u0026#39;: \u0026#39;Subject: Test email (contains an attachment)\\nMIME-Version: 1.0\\nContent-type: Multipart/Mixed; boundary=\u0026#34;NextPart\u0026#34;\\n\\n--NextPart\\nContent-Type: text/plain\\n\\nThis is the message body.\\n\\n--NextPart\\nContent-Type: text/plain;\\nContent-Disposition: attachment; filename=\u0026#34;attachment.txt\u0026#34;\\n\\nThis is the text in the attachment.\\n\\n--NextPart--\u0026#39;, }, )   å—ä¿¡ã•ã‚ŒãŸãƒ¡ãƒ¼ãƒ«ã‚’ã¿ã¦ã¿ã‚‹ã¨ã€\nThis is the text in the attachment. ã¨ã„ã†å†…å®¹ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆattachment.txï¼‰ãŒæ·»ä»˜ã•ã‚ŒãŸãƒ¡ãƒ¼ãƒ«ãŒå±Šã„ã¦ã„ãŸã€‚\nã¾ãŸã€Destinationsã«è¤‡æ•°è¨­å®šã™ã‚‹ã¨è¤‡æ•°ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒToã«è¨­å®šã•ã‚Œã‚‹ã‚‚ã®ã‹ã¨æ€ã£ãŸãŒã€ãã†ã§ã¯ãªãã€ãã‚Œãã‚Œåˆ¥ã€…ã®ãƒ¡ãƒ¼ãƒ«ã¨ã—ã¦é€ä¿¡ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã ã£ãŸã€‚\nä¸€å¿œãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã™ã‚‹ã“ã¨ã¯ã§ããŸã‚‚ã®ã®ã€ã‚ã¾ã‚Šã«ã‚‚ä¸æ ¼å¥½ãªã®ã§ã‚‚ã†å°‘ã—ã‚„ã£ã¦ã¿ã‚‹ã€‚\nTo, Cc, Bccã‚„æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­èº«ã€å†…å®¹ãªã©ã‚’å…¨ã¦RawMessageã«å«ã‚ã‚‹ã®ã§ã¯ãªãã€ãã‚Œãã‚Œåˆ†ã‘ã¦è¨­å®šã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚\n(æœ€æ‚ªæœ€å¾Œã«RawMessageã¨ã—ã¦çµåˆã™ã‚‹ã—ã‹ãªã„ã®ã‹ã‚‚ã ãŒã€‚ã€‚ã€‚)\nã“ã®ã‚ãŸã‚Šã‚’å‚è€ƒã«ã€‚ã€‚\n https://stackoverrun.com/ja/q/11824951 https://blog.serverworks.co.jp/tech/2018/12/16/ses_lambda_attachment/  ä½œã£ãŸã‚µãƒ³ãƒ—ãƒ«ã‚½ãƒ¼ã‚¹ãŒã“ã¡ã‚‰ã€‚\næœ€åˆã‚ˆã‚Šã‹ãªã‚Šã‚ˆããªã£ãŸã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54  import boto3 from email.mime.application import MIMEApplication from email.mime.multipart import MIMEMultipart from email.mime.text import MIMEText class Email(object): def __init__(self, frm, to, subject): self.frm = frm self.to = to self.subject = subject self.text = None self.attachment = None def send(self): client = boto3.client( \u0026#34;ses\u0026#34;, aws_access_key_id=\u0026#34;YourAccessKey\u0026#34;, aws_secret_access_key=\u0026#34;YourSecretKey\u0026#34;, region_name=\u0026#34;us-west-2\u0026#34;, ) # ãƒ¡ãƒ¼ãƒ«é€ä¿¡ msg = MIMEMultipart() msg[\u0026#34;Subject\u0026#34;] = self.subject msg[\u0026#34;From\u0026#34;] = self.frm msg[\u0026#34;To\u0026#34;] = self.to filepath = \u0026#34;/tmp/attachment.txt\u0026#34; # æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«ã®çµ¶å¯¾ãƒ‘ã‚¹ part = MIMEApplication(open(filepath, \u0026#34;rb\u0026#34;).read()) part.add_header(\u0026#34;Content-Disposition\u0026#34;, \u0026#34;attachment\u0026#34;, filename=\u0026#34;æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«.txt\u0026#34;) msg.attach(part) part = MIMEText(\u0026#34;sample mail\u0026#34;) # ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸Body msg.attach(part) client.send_raw_email( RawMessage={ \u0026#34;Data\u0026#34;: msg.as_string(), }, Destinations=[], ) if __name__ == \u0026#34;__main__\u0026#34;: email = Email( frm=\u0026#34;from@example.com\u0026#34;, to=\u0026#34;to_1@example.com\u0026#34;, subject=\u0026#34;ä»¶å\u0026#34; ) # you could use StringIO.StringIO() to get the file value email.send()   å—ä¿¡ã—ãŸãƒ¡ãƒ¼ãƒ«ã‚’ã¿ã¦ã¿ã‚‹ã¨æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«.txtã¨ã„ã†åå‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ·»ä»˜ã•ã‚Œã¦ã„ã¦ã€ä¸­èº«ã¯æŒ‡å®šã—ãŸ/tmp/attachment.txtã¨ä¸€è‡´ã—ãŸã€‚\nãƒ¡ãƒ¼ãƒ«ã¨ MIME ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’åˆ©ç”¨ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’è¨­å®šã—ã€æœ€å¾Œã«as_string()ï½€ã§stringã«ã—ã¦Data`ã«è¨­å®šã™ã‚‹ã¨ãƒ¡ãƒ¼ãƒ«ã®ä½œæˆãŒçµæ§‹æ¥½ã«ãªã‚Šãã†ã€‚\nå…¬å¼ï¼ˆhttps://docs.python.org/ja/3/library/email.mime.htmlï¼‰ã‚‚å‚è€ƒã«ã™ã‚‹ã¨è‰¯ã•ãã†ã ã€‚\n","description":"","id":14,"section":"posts","tags":["aws","ses"],"title":"ã€AWS, SESã€‘python(boto3)ã‚’åˆ©ç”¨ã—ã¦ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã™ã‚‹","uri":"https://www.anypalette.com/ja/posts/20201122_ses-for-python/"},{"content":"ã„ã¤ã‚‚ã¨é•ã†ç’°å¢ƒã§vimã®çŸ­å¾„é¸æŠã‚’ä½¿ã£ã¦ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã‚‰tabã§ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã•ã‚Œå›°ã£ãŸï¼ˆyamlãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿®æ­£ã—ãŸã‹ã£ãŸã®ã§ä½™è¨ˆã«\u0026hellip;ï¼‰ã€‚\nã“ã®è¨­å®šã§ã™ã£ãã‚Šè§£æ±ºã—ãŸ\n1 2  # tabå…¥åŠ›ãŒåŠè§’ã‚¹ãƒšãƒ¼ã‚¹ã«ç½®æ›ã•ã‚Œã‚‹ :set expandtab   ã¤ã„ã§ã«ã“ã®è¨­å®šã‚‚è¦šãˆã¦ãŠããŸã„\n1 2 3 4 5  # ã‚¿ãƒ–å…¥åŠ›æ™‚ã®æ–‡å­—æ•°ã‚’è¨­å®šï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯8æ–‡å­—ã‚‰ã—ã„ï¼‰ :set ts=4 # ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã™ã‚‹æ™‚ã®æ–‡å­—æ•°ã‚’è¨­å®šã—ãŸã„æ™‚ :set shiftwidth=4   ","description":"","id":15,"section":"posts","tags":["vim"],"title":"ã€vimã€‘tabå…¥åŠ›æ™‚ã‚¹ãƒšãƒ¼ã‚¹ã«ç½®æ›ã—ãŸã„","uri":"https://www.anypalette.com/ja/posts/20201031_indent-vim/"},{"content":"ä½œã£ãŸãƒ–ãƒ­ã‚°ã«æ–°ã—ã„è¨˜äº‹ã‚’ä½œæˆã—ã‚ˆã†æ€ã£ãŸã‚‰ãã‚‚ãã‚‚ã‚µãƒ¼ãƒãŒèµ·å‹•ã—ãªããªã£ãŸæ±—\n1 2 3 4 5 6 7 8 9 10  $ hugo server Start building sites â€¦ DEPRECATION WARNING on line 4 of /Users/ayaka/Git/blog/blog_bk2/themes/zzo/assets/sass/abstracts/_mixins.scss: !global assignments won\u0026#39;t be able to declare new variables in future versions. Consider adding `$theme-map: null` at the top level. ERROR 2020/10/31 20:05:47 Failed to get JSON resource \u0026#34;https://api.instagram.com/oembed/?url=https://www.instagram.com/p/BGvuInzyFAe/\u0026amp;amp;maxwidth=640\u0026amp;amp;omitscript=true\u0026#34;: Get \u0026#34;https://api.instagram.com/oembed/?url=https://www.instagram.com/p/BGvuInzyFAe/\u0026amp;amp;maxwidth=640\u0026amp;amp;omitscript=true\u0026#34;: dial tcp: lookup api.instagram.com: no such host ERROR 2020/10/31 20:05:47 Failed to get JSON resource \u0026#34;https://api.instagram.com/oembed/?url=https://www.instagram.com/p/BGvuInzyFAe/\u0026amp;amp;maxwidth=640\u0026amp;amp;omitscript=true\u0026#34;: Get \u0026#34;https://api.instagram.com/oembed/?url=https://www.instagram.com/p/BGvuInzyFAe/\u0026amp;amp;maxwidth=640\u0026amp;amp;omitscript=true\u0026#34;: dial tcp: lookup api.instagram.com: no such host Built in 6159 ms Error: Error building site: logged 2 error(s)  \nã¡ã‚‡ã†ã©2æ—¥å‰ã«å¯¾å¿œã—ã¦ãã ã•ã£ãŸã¨ãªã€‚ã‚ã‚ŠãŒãŸã‚„ã€‚\nhttps://github.com/zzossig/hugo-theme-zdoc/issues/34\nthemeã®ãƒªãƒã‚¸ãƒˆãƒªã¯submoduleã§ã‚‚ã£ã¦ãã¦ã„ãŸã®ã§ã€æœ€æ–°ç‰ˆã«ã™ã‚‹ã€‚submoduleã¯ä¸€åº¦ãƒãƒã‚‹ã¨ãã¤ã„\u0026hellip;\n1  $ git submodule update --remote --merge  \nã“ã‚Œã§ã©ã†ã ï¼\n1 2 3 4 5 6  $ hugo server Start building sites â€¦ ERROR 2020/10/31 20:08:59 Failed to get JSON resource \u0026#34;https://api.instagram.com/oembed/?url=https://www.instagram.com/p/BGvuInzyFAe/\u0026amp;amp;maxwidth=640\u0026amp;amp;omitscript=true\u0026#34;: Failed to retrieve remote file: Bad Request ERROR 2020/10/31 20:08:59 Failed to get JSON resource \u0026#34;https://api.instagram.com/oembed/?url=https://www.instagram.com/p/BGvuInzyFAe/\u0026amp;amp;maxwidth=640\u0026amp;amp;omitscript=true\u0026#34;: Failed to retrieve remote file: Bad Request Built in 7151 ms Error: Error building site: logged 2 error(s)   ã¾ã ã‚¨ãƒ©ãƒ¼\u0026hellip;\nã‚¤ãƒ³ã‚¹ã‚¿ã‚°ãƒ©ãƒ ã®apiãŒã†ã¾ã„ã“ã¨å®Ÿè¡Œã§ãã¦ãªã„ã¿ãŸã„ã€‚\nä½œæˆã—ãŸè¨˜äº‹ã«ã¯ã‚¤ãƒ³ã‚¹ã‚¿ã‚°ãƒ©ãƒ ã®apiã‚’å©ã„ã¦ã„ã‚‹ã¨ã“ã‚ã¯ãªã„ã®ã§ã€é››å½¢ãƒ•ã‚¡ã‚¤ãƒ«ã‹ãƒ†ãƒ³ãƒ—ãƒ¬ã§ä½œæˆã•ã‚Œã¦ã„ãŸè¨˜äº‹ã®ã‚ãŸã‚ŠãŒæ€ªã—ãã†ã€‚\ncontent/en/posts/my-first-post.md ã«â†“ã®æ§˜ãªè¨˜è¿°ãŒã€‚\nã“ã“ã§ã‚¤ãƒ³ã‚¹ã‚¿ã‚°ãƒ©ãƒ ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã„ãã†\u0026hellip;\n ## Instagram Simple Shortcode instagram_simple BGvuInzyFAe hidecaption \u0026lt;br\u0026gt; ç‰¹åˆ¥ã™ãã«å‰Šé™¤ã™ã‚‹å¿…è¦ã‚‚ãªã‹ã£ãŸã®ã§ä»Šå¾Œã®å‚è€ƒã‚‚å…¼ã­æ®‹ã—ã¦ãŠã„ãŸãƒ•ã‚¡ã‚¤ãƒ«ãŒæ‚ªã•ã‚’ã—ã¦ã„ãŸã‚ˆã†ã€‚\nä¸è¦ã®ãŸã‚ã€content/en/posts/xxx.mdãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã™ã¹ã‹ã‚‰ãå‰Šé™¤ã—ã€hugo serverã‚’å®Ÿè¡Œã—ãŸã‚‰èµ·å‹•ã§ããŸã€‚\nhttps://xxx.com/ja ã§404ãŒå‡ºã‚‹ ä¸Šè¨˜ã®å¯¾å¿œã‚’è¡Œã£ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸã‚‰ã€ä»Šã¾ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¦ã„ãŸURLã§404ãŒè¿”ã£ã¦ããŸã€‚ãã¬ã€‚\nhttps://xxx.com/ja/postã¨ã‹https://xxx.com/enã¨ã‹ã§ã¯ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã¿ãŸã„ã€‚\nissueæ¼ã£ã¦ã¿ãŸã‚‰å°‘ã—å‰ã«å¯¾å¿œã—ã¦ã‚‹äººãŒã„ãŸã€‚\nhttps://github.com/zzossig/hugo-theme-zzo/issues/335\nåŒã˜ã“ã¨ã‚’è©¦ã—ã¦ã¿ã‚‹ã€‚custom_scssã¯è¨­å®šãŒãªã‹ã£ãŸãŸã‚ã€config.tomlã«è¨­å®šã—ã¦assets/scss/custom.scssã‚’ä½œæˆã™ã‚‹ã¨ã“ã‚ã‹ã‚‰ã€‚\nãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸã‚‰ã„ã¤ã‚‚é€šã‚Šhttps://xxx.com/jaã§ã‚¢ã‚¯ã‚»ã‚¹ã§ããŸã€‚\nï¾”ï½¯ï¾€ï¾ˆ\n","description":"","id":16,"section":"posts","tags":["hugo"],"title":"Zzo themeã®æœ€æ–°åŒ–","uri":"https://www.anypalette.com/ja/posts/20201031_blog_fix/"},{"content":"çµŒç·¯ ä»Šã¾ã§ãƒ¡ãƒ¢ãŒã¦ã‚‰ä½¿ã£ã¦ã„ãŸã‚µã‚¤ãƒˆã®é–‰é–ã«ä¼´ã„ã€ã„ã‚ˆã„ã‚ˆè‡ªåˆ†ã§ä½œã‚‹ã“ã¨ã‚’æ±ºæ„ã€‚\nGitHub Pagesã‚’ä½¿ã†ã¨ã‚¿ãƒ€ï¼ã§ã§ãã‚‹ã®ã§ãã‚Œã§ã‚„ã£ã¦ã¿ã‚‹ã€‚\né™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ã¯ã„ãã¤ã‹ã‚ã£ãŸãŒã€ãŠè©¦ã—ã§HUGOã§ã‚„ã£ã¦ã¿ãŸã€‚\nä½œã£ã¦ã¿ã‚‹ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«, ã‚µãƒ³ãƒ—ãƒ«èµ·å‹• å…¬å¼ã®æ‰‹é †ã‚’è¦‹ãªãŒã‚‰æ§‹ç¯‰ã—ã¦ã„ã\n1 2 3 4 5 6 7  $ brew install hugo $ hugo version # -\u0026gt; Hugo Static Site Generator v0.76.3/extended darwin/amd64 BuildDate: unknown $ hugo new site quickstart $ cd quickstart $ git init   themeã¯å…¬å¼ã‹ã‚‰è‡ªåˆ†ã®æ°—ã«å…¥ã‚‹ã®ã‚’æ¢ã—ã¦submoduleåŒ–ã—ã¦è¿½åŠ ã™ã‚‹ï¼ˆzzoã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã«ã—ãŸï¼‰ã€‚\n1  $ git submodule add https://github.com/zzossig/hugo-theme-zzo.git themes/zzo   ã‚‚ã†blogã‚’ç«‹ã¡ä¸Šã’ã‚‰ã‚Œã‚‹ã‚‰ã—ã„ã€‚\nè©¦ã—ã«ç«‹ã¡ä¸Šã’ã¦ã¿ã‚‹\n1 2 3 4 5  $ cd themes/zzo/exampleSite $ hugo server --themesDir ../.. # Serving pages from memory # Running in Fast Render Mode. For full rebuilds on change: hugo server --disableFastRender # Web Server is available at http://localhost:1313/ (bind address 127.0.0.1)   http://localhost:1313/ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã‚‰å…¬å¼ã®themeã¨åŒã˜ã‚‚ã®ãŒå‡ºã¦ããŸã€‚ã—ã‚…ã”ã„\u0026hellip;\nCI/CDã‚’è¨­å®šã™ã‚‹ GitHub Actionã‚’ä½¿ã„ã€ãƒ“ãƒ«ãƒ‰ã€œãƒ‡ãƒ—ãƒ­ã‚¤ã‚’è‡ªå‹•ã§ã‚„ã£ã¦ã‚‚ã‚‰ã†ã‚ˆã†ã«ã™ã‚‹ã€‚\nã“ã“ã‚’è¦‹ãªãŒã‚‰ã“ã‚“ãªæ„Ÿã˜ã®CIã‚’ä½œæˆã—ãŸã€‚\ngh-pagesãƒ–ãƒ©ãƒ³ãƒã«pushã™ã‚‹ã¨ç™ºç«ã—ã€mainãƒ–ãƒ©ãƒ³ãƒã«ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã‚‹ã€‚\nname: github pages on: push: branches: - gh-pages # ç™ºç«ã•ã›ãŸã„ãƒ–ãƒ©ãƒ³ãƒåã‚’è¨­å®š jobs: deploy: runs-on: ubuntu-18.04 steps: - uses: actions/checkout@v2 with: submodules: true # Fetch Hugo themes (true OR recursive) fetch-depth: 0 # Fetch all history for .GitInfo and .Lastmod - name: Setup Hugo uses: peaceiris/actions-hugo@v2 with: hugo-version: latest extended: true - name: Build run: hugo --minify - name: Deploy uses: peaceiris/actions-gh-pages@v3 with: deploy_key: ${{ secrets.ACTIONS_DEPLOY_KEY }} publish_dir: ./public publish_branch: main # ãƒ‡ãƒ—ãƒ­ã‚¤å¯¾è±¡ã®ãƒ–ãƒ©ãƒ³ãƒåã‚’è¨­å®š GitHub Actionã‚’åˆ©ç”¨ã™ã‚‹ã®ã¯åˆã‚ã¦ã ã£ãŸãŒ\u0026hellip;å°‘ã—è©°ã¾ã£ãŸ\n GitHub_Token ã‚’åˆ©ç”¨ã™ã‚‹ã¨åˆå›ãƒ‡ãƒ—ãƒ­ã‚¤ã«å¿…ãšå¤±æ•—ã™ã‚‹\nå…¬å¼ã«ã‚‚èª¬æ˜ãŒã‚ã‚‹ãŒã€GitHub_Tokenã«ã¯åˆ©ç”¨ã™ã‚‹ã®ã«åˆ¶é™ãŒã‚ã‚‹ã‚‰ã—ãã€åˆå›ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ã«å¤±æ•—ã™ã‚‹ã‚‰ã—ã„ã€‚\næ­£ç›´ã‚ˆãã‚ã‚‰ã‹ã‚‰ãªã‹ã£ãŸã¨ã€deploy_keyã‚’åˆ©ç”¨ã—ã¦SSHçµŒç”±ã§pushã™ã‚Œã°ãã†ã„ã†åˆ¶é™ã¯ãªã„ã‚‰ã—ã„ã®ã§ä½¿ã†ã®ã‚’ã‚„ã‚ãŸã€‚ ACTIONS_DEPLOY_KEY ã®åˆ©ç”¨ã«å¤±æ•—ã™ã‚‹\nSecretsã«ç™»éŒ²ã—ãŸå¤‰æ•°ã®åå‰ã‚’å¤‰ãˆãŸã‚‰ãƒ‡ãƒ—ãƒ­ã‚¤ã«å¤±æ•—ã—ãŸã€‚GitHub Pageså°‚ç”¨å¤‰æ•°ã®ã‚ˆã†ãªã®ã§åå‰ã‚’å¤‰ãˆã¦ã¯ã„ã‘ãªã„ã‚ˆã†ã€‚  è‡ªåˆ†å¥½ã¿ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹ æº–å‚™ Zzoå…¬å¼ã«ç´°ã‹ã„è¨­å®šãŒæ›¸ã„ã¦ã‚ã‚‹ã€‚ãŒã€ä¸€æ—¦ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ãã®ã¾ã¾åˆ©ç”¨ã™ã‚‹ã®ã§ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹å‰ã«themes/zzo/exampleSite/é…ä¸‹ã‚’rootã«ã¾ã‚‹ã£ã¨ã‚³ãƒ”ãƒ¼ã—ã¦ãŠãã¨è‰¯ã„ã€‚\nZzoã®å…¬å¼ã«å…¨ã¦æ›¸ã„ã¦ã‚ã‚‹ãŒ\u0026hellip;ä»Šå›ç§ãŒã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ãŸã¨ã“ã‚ã¯ã“ã®ã‚ãŸã‚Šã€‚\nãƒ›ãƒ¼ãƒ ç”»é¢  ã‚¿ã‚¤ãƒˆãƒ«,ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«ã®å¤‰æ›´\ncontent/en/_index.md ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã„ã˜ã‚‹ã¨è‰²ã€…ã‚«ã‚¹ã‚¿ãƒ ã§ãã‚‹ã€‚\nenã¯ä½¿ã†è¨€èªã«å¿œã˜ã¦è¨­å®šã‚’ä¿®æ­£ã™ã‚‹ï¼ˆã¾ã jpè¨­å®šã§ãã¦ã„ãªã„ã®ã§ä¸€æ—¦ené…ä¸‹ã‚’ä¿®æ­£ã—ãŸï¼‰ã€‚  ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«   ã‚¢ãƒã‚¿ãƒ¼ã®å¤‰æ›´\nstatic/images/whoami/avatar.jpeg ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é©ç”¨ã—ãŸã„ã‚‚ã®ã«å·®ã—æ›¿ãˆã‚‹\n  åå‰ã€ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æ–‡ã®å¤‰æ›´\nconfig/_default/params.tomlãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿®æ­£ã™ã‚‹ã€‚\nåå‰ã‚„ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã€SNSã¸ã®ãƒªãƒ³ã‚¯å…ˆã¯whoamiã‚ãŸã‚Šã‚’ä¿®æ­£ã™ã‚‹ã¨ã‚ˆã„ã€‚\n  è¨€èª   ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨€èªã®å¤‰æ›´\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯è‹±èªãªã®ã§æ—¥æœ¬èªã«è¨­å®šå¤‰æ›´ã™ã‚‹ã€‚\n1  defaultContentLanguage = \u0026#34;ja\u0026#34;     è¨€èªã®è¨­å®šã«jaã‚’åŠ ãˆã‚‹\n1 2 3 4  [ja] title = \u0026#34;Hugo Zzo Theme\u0026#34; languageName = \u0026#34;æ—¥æœ¬èª\u0026#34; weight = 1     content/[è¨€èª] ã®ã‚³ãƒ”ãƒ¼\nä¸Šè¨˜ã®è¨­å®šã ã‘ã§ã¯ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ããŸã€‚\ncontentãªã©è¨€èªã”ã¨ã«ãƒ•ã‚©ãƒ«ãƒ€ãŒåˆ†ã‹ã‚Œã¦ã„ã‚‹ã‚‚ã®ãŒã‚ã£ãŸã®ã§jaç”¨ã‚’ä½œæˆã™ã‚‹ã€‚\n1  $ cp content/en content/ja   ä½•ã‚‚è¡¨ç¤ºã•ã‚Œãªã„ã€‚ã¾ã ä½•ã‹è¶³ã‚Šãªã„ã‚‰ã—ã„ã€‚\nconfigé…ä¸‹ã«menus.en.tomlãŒã‚ã£ãŸã€‚\nç´°ã‹ã„ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã¯ç½®ã„ã¨ã„ã¦ã€ä¸€æ—¦Copyã€Renameã—ã¦ãã®ã¾ã¾jaãƒ•ã‚¡ã‚¤ãƒ«ã¨ã™ã‚‹ã€‚\n1  $ cp -a config/_default/menus.en.toml config/_default/menus.ja.toml   ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è¡¨ç¤ºã•ã‚ŒãŸã€‚å¿ƒãªã—ã‹ã‚ã²ã‚‹ã‚‚å°‘ã—å¬‰ã—ãã†ã€‚\n  è¡¨ç¤ºè¨€èªåˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½ã®ç„¡åŠ¹åŒ–\nè‹±èªã¯ã—ã°ã‚‰ãä½¿ã†ã“ã¨ãªã•ãã†ã ãŒãã®ã†ã¡è‹±èªã§ã‚‚\u0026hellip;ã¨ã„ã†æ—¥ãŒæ¥ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã®ã§ãã®ã¾ã¾ã«ã—ã¦ãŠãã“ã¨ã«ã™ã‚‹ã€‚\nãã®é–“è¡¨ç¤ºè¨€èªã®åˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½ã¯ç„¡åŠ¹åŒ–ã—ã¦ãŠãã€‚\n1 2 3 4 5 6  # footer showPoweredBy = true showFeedLinks = true showSocialLinks = true enableLangChange = false # ã“ã“ã‚’ä¿®æ­£ enableThemeChange = true     å‚è€ƒ æ§‹ç¯‰æ™‚ã«ã¨ã¦ã‚‚å‚è€ƒã«ãªã‚Šã¾ã—ãŸã€‚\n  GitHub Pages Ã— Hugo ã§æŠ€è¡“ãƒ–ãƒ­ã‚°ã‚’å§‹ã‚ãŸ: https://reona.dev/posts/20200331\n  Hugoã§è¨˜äº‹å†…ã«ç”»åƒã‚’è²¼ã‚Šä»˜ã‘ã‚‹æ–¹æ³• : https://qiita.com/atuyosi/items/4100bd502e373c088c74\n  Hugo(quickstart) : https://gohugo.io/getting-started/quick-start/\n  GitHubAction(GitHubPages, Hugo) : https://github.com/peaceiris/actions-gh-pages\n  ","description":"","id":17,"section":"posts","tags":["hugo","github"],"title":"Hugo + GithubPages ã§ãƒ–ãƒ­ã‚°ã‚’æ§‹ç¯‰ã™ã‚‹","uri":"https://www.anypalette.com/ja/posts/1012_first_post/"},{"content":"æ±ºæ¸ˆç³»SIerã¨ã—ã¦å¤§è¦æ¨¡ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰æ±ºæ¸ˆã‚·ã‚¹ãƒ†ãƒ ã®ä¿å®ˆ/é‹ç”¨, ç¶­æŒé–‹ç™ºã«4å¹´å¾“äº‹ã—ã¦ã¾ã—ãŸã€‚ãã®å¾Œä¸€èˆ¬äº‹å‹™ã®ãŠä»•äº‹ã‚’ä½•å¹´ã‹ã—ã¾ã—ãŸãŒã€è¨³ãŒã‚ã£ãŸã®ã¨ã”ç¸ã«æµã¾ã‚Œå†ã³ITæ¥­ç•Œã§ãŠä»•äº‹ã•ã›ã¦ã„ãŸã ãã“ã¨ã«ãªã‚Šã¾ã—ãŸã€‚\nç¾åœ¨ã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ¬ã‚¹æ±ºæ¸ˆã‚·ã‚¹ãƒ†ãƒ ã®é–‹ç™ºãƒ»é‹ç”¨ã®ãŠä»•äº‹ã‚’ã—ã¦ã„ã¾ã™ã€‚\nã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰~ã‚¤ãƒ³ãƒ•ãƒ©ãŒãƒ¡ã‚¤ãƒ³ã§ã™ã€‚ãƒ•ãƒ­ãƒ³ãƒˆã‚‚å¥½ãã§ã™ã€‚\n è¨€èªï¼šJava, Go, Javascript, VB ã‚¯ãƒ©ã‚¦ãƒ‰ï¼šAWS ãã®ä»–ï¼šKubernetes, MySQL, MongoDB(DynamoDB) ç­‰  ","description":"Hugo, the worldâ€™s fastest framework for building websites","id":18,"section":"","tags":null,"title":"About","uri":"https://www.anypalette.com/ja/about/"},{"content":"ã“ã®è¨˜äº‹ã¯2019/12/12ã«Qrunchã«æ²è¼‰ã—ãŸå†…å®¹ã§ã™ã€‚\nï¼ˆQrunchã®ã‚µãƒ¼ãƒ“ã‚¹çµ‚äº†ã«ä¼´ã„ã“ã¡ã‚‰ã«å¼•ã£è¶Šã—ã—ã¾ã—ãŸï¼‰  ã¾ã¨ã‚ã¦ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã™ã‚‹ã“ã¨ã‚‚å¤§äº‹ã§ã™ãŒã€å°‘ã—ãšã¤å°ã•ãªå˜ä½ã§ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã—ã€å¾Œã‹ã‚‰ã¾ã¨ã‚ã‚‹ã“ã¨ã®å¤§åˆ‡ã•ã‚‚å®Ÿæ„Ÿã™ã‚‹ä»Šæ—¥ã“ã®é ƒã§ã™ã€‚\nå¿…è¦æœ€ä½é™ã®è¨˜è¿°ã§ã™ã¿ã¾ã›ã‚“ã€‚\nã‚„ã‚ŠãŸã„ã“ã¨ flaskï¼ˆflask-appbuilderãƒ—ãƒ©ã‚°ã‚¤ãƒ³åˆ©ç”¨ï¼‰ã§webã‚¢ãƒ—ãƒªèµ·å‹•æ™‚faviconã‚’è¡¨ç¤ºã™ã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚\nã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ã“ã‚“ãªæ„Ÿã˜ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ã¯safariã§ã™ï¼‰ã€‚\nã‚„ã‚Šã‹ãŸ GitHubã«è‰¯ã„æƒ…å ±ãŒã€‚ å‚è€ƒãƒªãƒ³ã‚¯\nI nice way to do it is to override base.html template and add it to the block head_css\nbase.htmlã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ã—ã¦head_cssã‚’ã”ã«ã‚‡ã‚´ãƒ‹ãƒ§ã™ã‚Œã°è‰¯ã•ãã†ã€‚\nã‚„ã£ã¦ã¿ã‚‹ é–¢é€£ã™ã‚‹ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã¯ã“ã‚“ãªæ„Ÿã˜ã€‚\nï¼ˆconfig.pyã¨ã‹ã¯çœç•¥ã—ã¦ã¾ã™ï¼‰\n . â”œâ”€ static â”‚ â””â”€ favicon.png â”œâ”€ templates â”‚ â”œâ”€ custom_base.html â”‚ â””â”€ sample.html â”œâ”€ __init__.py â””â”€ views.py custom_base.html {% extends 'appbuilder/baselayout.html' %} {% block head_css %} {{ super() }} \u0026lt;link rel=\u0026quot;shortcut icon\u0026quot; href=\u0026quot;{{ url_for('static', filename='favicon.png') }}\u0026quot;\u0026gt; {% endblock %} sample.html {% extends \u0026quot;./custom_base.html\u0026quot; %} {% block content %} \u0026lt;h2\u0026gt;faviconè¡¨ç¤ºã•ã›ãŸã„\u0026lt;/h2\u0026gt; {% endblock %} views.py 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  from flask import render_template from flask_appbuilder import BaseView, expose, has_access from . import appbuilder, db class MyView(BaseView): default_view = \u0026#39;method1\u0026#39; @expose(\u0026#39;/method1/\u0026#39;) @has_access def method1(self): # do something with param1 # and return to previous page or index return ( render_template( \u0026#34;sample.html\u0026#34;, appbuilder=appbuilder ), 200, ) appbuilder.add_view(MyView, \u0026#34;Method1\u0026#34;, category=\u0026#39;My View\u0026#39;) db.create_all()   ã“ã‚Œã§Flaskã‚’èµ·å‹•ã•ã›ã€{baseurl}/myview/method1ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€staticãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«è¨­ç½®ã—ãŸfaviconãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã€‚\n\u0026hellip;ã—ã‹ã—ã€ã“ã®æ–¹æ³•ã ã¨ä»–ã®urlã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨faviconãŒè¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ã€‚ãã¬ã£ã€‚\nAppBuilderã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆæ™‚ã«ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®è¨­å®šã‚’åŠ ãˆã‚‰ã‚Œã‚‹ã‚ˆã†ãªã®ã§__init__.pyã«è¨­å®šã‚’è¿½åŠ ã—ã¾ã™ã€‚\n__init__.py 1 2 3 4 5 6  from flask import Flask from flask_appbuilder import AppBuilder, SQLA app = Flask(__name__) db = SQLA(app) appbuilder = AppBuilder(app, db.session, base_template=\u0026#39;custom_base.html\u0026#39;)   å†ã³flaskã‚’èµ·å‹•ã—ãªãŠã™ã¨å…¨ã¦ã®routeã«faviconãŒè¡¨ç¤ºã•ã‚Œã¾ã™( Â´âˆ€ï½€)ï¾œï½°ï½²\n","description":"","id":19,"section":"posts","tags":["flask","flask-appbuilder"],"title":"ã€Flaskã€‘flask-appbuilder ã‚’ä½¿ã£ãŸwebã‚¢ãƒ—ãƒªã«faviconã‚’è¡¨ç¤ºã•ã›ãŸã„","uri":"https://www.anypalette.com/ja/posts/20191212_flask-appbuilder-favicon/"},{"content":"ã“ã®è¨˜äº‹ã¯2019/12/01ã«Qrunchã«æ²è¼‰ã—ãŸå†…å®¹ã§ã™ã€‚\nï¼ˆQrunchã®ã‚µãƒ¼ãƒ“ã‚¹çµ‚äº†ã«ä¼´ã„ã“ã¡ã‚‰ã«å¼•ã£è¶Šã—ã—ã¾ã—ãŸï¼‰  èƒŒæ™¯ flaskã§ç°¡å˜ãªWebã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ï¼\nç’°å¢ƒæ§‹ç¯‰ã¯Dockerï¼ˆdocker-composeï¼‰ã§ã‚„ã‚ŠãŸã„ãªãã€‚\nã‚„ã‚ŠãªãŒã‚‰å¿˜ã‚Œãªã„ã‚ˆã†ã«ãƒ¡ãƒ¢ãƒ¡ãƒ¢ã€‚\nã‚½ãƒ¼ã‚¹ã¯ã“ã¡ã‚‰\nç›®æ¨™ docker-composeã‚’åˆ©ç”¨ã—ã¦flask + mysqlã®ç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹\n flaskã‹ã‚‰mysqlã¸æ¥ç¶šã§ãã‚‹ã“ã¨ èµ·å‹•ã—ãŸwebã‚¢ãƒ—ãƒªã¸ãƒ­ãƒ¼ã‚«ãƒ«ã‹ã‚‰æ¥ç¶šã§ãã‚‹ã“ã¨  ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ å…¨ä½“çš„ã«ã“ã‚“ãªæ„Ÿã˜ã®ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã€‚\nflaskã¯flask-appbuilderã‚’ä½¿ã†äºˆå®šã€‚\nflask_sample â”œ docker-compose.yml â”œ db â”œ Dockerfile â”” my.cnf â”” flask â”œ Dockerfile â”” requirements.txt docker-compose.yml tty: trueã‚’è¨­å®šã™ã‚‹ã¨ã‚³ãƒ³ãƒ†ãƒŠãŒèµ·å‹•ã—ã£ã±ãªã—ã«ãªã‚‹ã®ã§ãƒ‡ãƒãƒƒã‚°ã—ãŸã„æ™‚ã¨ã‹ã«ä¾¿åˆ©ã€‚è¨­å®šã‚’å‰Šé™¤ã™ã‚‹å ´åˆã¯commandã«flask runãªã©ã®ã‚³ãƒãƒ³ãƒ‰ã‚’è¨­å®šã™ã‚‹ã“ã¨ã€‚\nã‚¢ãƒ—ãƒªé–‹ç™ºãŒè»Œé“ã«ã®ã‚‹ã¾ã§ã¯ã‚ªãƒ³ã«ã—ã¦ãŠãã¨ä¾¿åˆ©ãã†ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28  version:\u0026#34;3\u0026#34;services:web:build:./flaskvolumes:- ./flask:/appports:- 5000:5000links:- dbtty:truedb:build:./dbenvironment:MYSQL_ROOT_PASSWORD:rootMYSQL_DATABASE:flaskMYSQL_USER:flaskMYSQL_PASSWORD:flaskTZ:\u0026#39;Asia/Tokyo\u0026#39;command:mysqld --character-set-server=utf8mb4 --collation-server=utf8mb4_binvolumes:- ./db/data:/var/lib/mysql- ./db/my.cnf:/etc/mysql/conf.d/my.cnf- ./db/sql:/docker-entrypoint-initdb.d- ./db/log:/var/log/mysqlports:- 3306:3306  db è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« Dockerfile ç‰¹ã«ã™ã‚‹ã“ã¨ãŒãªã‘ã‚Œã°Dockerfileã«ã—ãªãã¦ã‚‚OKã€‚\nãã®æ™‚ã¯docker-compose.ymlã®build: ./dbã®ã¨ã“ã‚ã‚’image: mysql:5.7ã«ä¿®æ­£ã™ã‚‹ã€‚\n1  FROMmysql:5.7  mysqlè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆmy.cnfï¼‰ 1 2 3 4 5 6 7  [mysqld] character-set-server=utf8mb4 general-log=1 general-log-file=/var/log/mysql/mysqld.log #ãƒ­ã‚°ã®å‡ºåŠ›å…ˆ [client] default-character-set=utf8mb4   flask è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« Dockerfile 1 2 3 4 5 6 7 8 9 10 11 12  FROMpython:3.7.5ARG app_dir=/app/ADD requirements.txt $app_dirWORKDIR$app_dirRUN pip install --upgrade pip# åˆ©ç”¨ã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒã‹ãŸã¾ã‚‹ã¾ã§ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã—ã¦ã¦ã‚‚è‰¯ã•ãã†RUN pip install -r requirements.txt  requirements.txt apispec==1.3.3 attrs==19.3.0 Babel==2.7.0 Click==7.0 colorama==0.4.1 defusedxml==0.6.0 Flask==1.1.1 Flask-AppBuilder==2.2.0 Flask-Babel==0.12.2 Flask-JWT-Extended==3.24.1 Flask-Login==0.4.1 Flask-OpenID==1.2.5 Flask-SQLAlchemy==2.4.1 Flask-WTF==0.14.2 importlib-metadata==1.0.0 itsdangerous==1.1.0 Jinja2==2.10.3 jsonschema==3.2.0 MarkupSafe==1.1.1 marshmallow==2.19.5 marshmallow-enum==1.5.1 marshmallow-sqlalchemy==0.19.0 more-itertools==8.0.0 mysqlclient==1.4.6 prison==0.1.2 PyJWT==1.7.1 pyrsistent==0.15.6 python-dateutil==2.8.1 python3-openid==3.1.0 pytz==2019.3 PyYAML==5.1.2 six==1.13.0 SQLAlchemy==1.3.11 SQLAlchemy-Utils==0.35.0 Werkzeug==0.16.0 WTForms==2.2.1 zipp==0.6.0 ã‚³ãƒ³ãƒ†ãƒŠã‚’èµ·å‹•ã™ã‚‹ 1 2 3 4  # Dockerfileã‚’å…ƒã«ã‚³ãƒ³ãƒ†ãƒŠã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’æ§‹ç¯‰ã™ã‚‹ $ docker-compose build # ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹• $ docker-compose up   èµ·å‹•å¾Œã®ç¢ºèª ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•ç¢ºèª docker psã‚³ãƒãƒ³ãƒ‰ã‚‚ã—ãã¯docker-compose psã‚³ãƒãƒ³ãƒ‰ã‚’åˆ©ç”¨ã—ã¦ä»Šèµ·å‹•ã—ã¦ã„ã‚‹ã‚³ãƒ³ãƒ†ãƒŠã®ä¸€è¦§ã‚’ç¢ºèªã—ã¦ã¿ã‚‹ã€‚\n# StateãŒUpã«ãªã£ã¦ã‚Œã°OK $ docker-compose ps Name Command State Ports ---------------------------------------------------------------------------------------- flask_db_1 docker-entrypoint.sh mysql ... Up 0.0.0.0:3306-\u0026gt;3306/tcp, 33060/tcp flask_web_1 python3 Up 0.0.0.0:5000-\u0026gt;5000/tcp ã‚„ã£ãŸã­ï¼\nãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®ç¢ºèª flaskã¨mysqlãŒåŒä¸€ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä¸Šã«ã„ã‚‹ã‹ç¢ºèªã™ã‚‹ã€‚\ndocker network lsã‚ãŸã‚Šã®ã‚³ãƒãƒ³ãƒ‰ã‹ã‚‰ç¢ºèªã—ã¦ã‚‚è‰¯ã„ãŒã€skanehiraã•ã‚“ï¼ˆã‚´ãƒªãƒ©ã•ã‚“ï¼‰ã®docuiã‚’å…¥ã‚Œã¦ãŠãã¨ã‚ã£ã¡ã‚ƒä¾¿åˆ©ï¼ï¼ˆç¥ã‚ã‚ŠãŒãŸã‚„ï¼ï¼ï¼‰\nã“ã¡ã‚‰ãŒdocuiã®å®Ÿè¡Œç”»é¢ã€‚\nã¡ã‚ƒã‚“ã¨åŒã˜ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä¸Šã«flaskã¨mysqlãŒã‚ã‹ã‚‹ï¼\nè©³ç´°ã‚’ã¿ã¦ã¿ã‚‹\u0026hellip;\nãƒ­ãƒ¼ã‚«ãƒ«ã‹ã‚‰ã¯localhost(127.0.0.1)ã§ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã€‚\nflaskã®èµ·å‹• ã‚ˆã†ã‚„ãflaskã®èµ·å‹•ã¸ã€‚è‰²ã€…è‡ªåˆ†ã§ä¸€ã‹ã‚‰ä½œã‚‹ã®ã¯å¤§å¤‰ãªã®ã§ã€ãƒ¦ãƒ¼ã‚¶ç®¡ç†ã¨ã‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒå……å®Ÿã—ã¦ã„ã‚‹flask-appbuilderã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã«ã€‚\nflask-appbuilderã‹ã‚‰ã‚¹ã‚±ãƒ«ãƒˆãƒ³ã®ä½œæˆ # èµ·å‹•ã—ãŸã‚³ãƒ³ãƒ†ãƒŠã«å…¥ã£ã¦ä½œæ¥­ï¼ˆdocker exec -it [ã‚³ãƒ³ãƒ†ãƒŠID] /bin/shï¼‰ /app # flask fab create-app Your new app name: app Your engine type, SQLAlchemy or MongoEngine (SQLAlchemy, MongoEngine) [SQLAlchemy]: Downloaded the skeleton app, good coding! flaskè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä¿®æ­£ ä½œæˆã—ãŸflaskã®ã‚¹ã‚±ãƒ«ãƒˆãƒ³ã‚¢ãƒ—ãƒªãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«ã‚ã‚‹config.pyã‚’ä¿®æ­£ã™ã‚‹ã€‚\nä¿®æ­£å†…å®¹ã¯ä»¥ä¸‹ã®é€šã‚Šã€‚\n æ—¥æœ¬èªã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã®ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰è¨­å®šï¼ˆutf8ï¼‰ æ¥ç¶šå…ˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®è¨­å®š ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨€èªè¨­å®š  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33  #coding:utf8 # \u0026lt;-- æ—¥æœ¬èªã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã®è¨­å®š. ä¸€ç•ªä¸Šã«è¿½åŠ ã™ã‚‹ ... # The SQLAlchemy connection string. # SQLALCHEMY_DATABASE_URI = \u0026#34;sqlite:///\u0026#34; + os.path.join(basedir, \u0026#34;app.db\u0026#34;) # \u0026#39;mysql://[User]:[Password]@[Host]/[Database]\u0026#39; # ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ãªã‚‹ã¹ãç›´æ›¸ãã—ãªã„ã‚ˆã†ã«ï¼ˆã‚†ãã‚†ãã¯ç’°å¢ƒå¤‰æ•°ã¸...ï¼‰ SQLALCHEMY_DATABASE_URI = \u0026#39;mysql://root:root@db/app\u0026#39; ... # æ—¥æœ¬èªã®è¨­å®šã‚’è¿½åŠ ã—ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®è¨€èªã‚’æ—¥æœ¬èªã«ã™ã‚‹ # --------------------------------------------------- # Babel config for translations # --------------------------------------------------- # Setup default language BABEL_DEFAULT_LOCALE = \u0026#34;ja\u0026#34; # Your application default translation path BABEL_DEFAULT_FOLDER = \u0026#34;translations\u0026#34; # The allowed translation for you app LANGUAGES = { \u0026#34;en\u0026#34;: {\u0026#34;flag\u0026#34;: \u0026#34;gb\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;English\u0026#34;}, \u0026#34;pt\u0026#34;: {\u0026#34;flag\u0026#34;: \u0026#34;pt\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;Portuguese\u0026#34;}, \u0026#34;pt_BR\u0026#34;: {\u0026#34;flag\u0026#34;: \u0026#34;br\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;Pt Brazil\u0026#34;}, \u0026#34;es\u0026#34;: {\u0026#34;flag\u0026#34;: \u0026#34;es\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;Spanish\u0026#34;}, \u0026#34;de\u0026#34;: {\u0026#34;flag\u0026#34;: \u0026#34;de\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;German\u0026#34;}, \u0026#34;zh\u0026#34;: {\u0026#34;flag\u0026#34;: \u0026#34;cn\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;Chinese\u0026#34;}, \u0026#34;ru\u0026#34;: {\u0026#34;flag\u0026#34;: \u0026#34;ru\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;Russian\u0026#34;}, \u0026#34;pl\u0026#34;: {\u0026#34;flag\u0026#34;: \u0026#34;pl\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;Polish\u0026#34;}, \u0026#34;ja\u0026#34;: {\u0026#34;flag\u0026#34;: \u0026#34;jp\u0026#34;, \u0026#34;name\u0026#34;: u\u0026#34;æ—¥æœ¬èª\u0026#34;}, }   adminãƒ¦ãƒ¼ã‚¶ã®ç™»éŒ² é©å½“ã«adminãƒ¦ãƒ¼ã‚¶ã‚’ä½œæˆã™ã‚‹ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  flask fab create-admin Username [admin]: User first name [admin]: User last name [user]: Email [admin@fab.org]: Password: Password: ... 2019-12-01 10:04:56,305:INFO:flask_appbuilder.base:Registering class MyView on menu Method1 2019-12-01 10:04:56,306:INFO:flask_appbuilder.baseviews:Registering route /myview/method1/ (\u0026#39;GET\u0026#39;,) Recognized Database Authentications. 2019-12-01 10:04:56,450:INFO:flask_appbuilder.security.sqla.manager:Added user admin Admin User admin created. \u0026lt;-- adminãƒ¦ãƒ¼ã‚¶ä½œæˆæˆåŠŸï¼   Viewã®ä¿®æ­£ ãã®ã¾ã¾èµ·å‹•ã™ã‚‹ã¨InternalServerErrorãŒå‡ºã¦ã—ã¾ã†ã€‚\nã›ã£ã‹ããªã®ã§é©å½“ãªviewã‚’è¨­å®šã™ã‚‹ã€‚\nview.pyã‚’ã“ã‚“ãªæ„Ÿã˜ã«æ›¸ãæ›ãˆã‚‹ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23  from flask import render_template from flask_appbuilder.models.sqla.interface import SQLAInterface from flask_appbuilder import BaseView, expose, has_access, ModelView, ModelRestApi from . import appbuilder, db class MyView(BaseView): default_view = \u0026#39;method1\u0026#39; @expose(\u0026#39;/method1/\u0026#39;) @has_access def method1(self): # do something with param1 # and return to previous page or index return \u0026#39;Hello\u0026#39; appbuilder.add_view(MyView, \u0026#34;Method1\u0026#34;, category=\u0026#39;My View\u0026#39;) db.create_all()   flaskèµ·å‹• èµ·å‹•ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œå¾Œã€* Running on http://0.0.0.0:5000/  ãŒå‡ºã¦ãã‚Œã°OKã€‚\n1 2 3 4 5 6 7  flask run --host 0.0.0.0 --port 5000 ... 2019-12-01 10:06:19,124:INFO:flask_appbuilder.api:Registering route /api/v1/menu/ [\u0026#39;GET\u0026#39;] 2019-12-01 10:06:19,218:INFO:flask_appbuilder.base:Registering class MyView on menu Method1 2019-12-01 10:06:19,218:INFO:flask_appbuilder.baseviews:Registering route /myview/method1/ (\u0026#39;GET\u0026#39;,) 2019-12-01 10:06:19,282:INFO:werkzeug: * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)   ãƒ­ãƒ¼ã‚«ãƒ«ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ ãƒ­ãƒ¼ã‚«ãƒ«ã®ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰http://localhost:5000/ã¸ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã€‚\nã§ã‘ãŸã€‚\nflask fab create-adminã§ä½œæˆã—ãŸadminãƒ¦ãƒ¼ã‚¶ã§ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ã€‚\nè©°ã¾ã£ãŸã“ã¨ æœ€åˆã€flaskã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã«alpineã‚’åˆ©ç”¨ã—ã¦ã„ãŸã®ã ãŒã€mysqlclientãŒpip installã§ããªã‹ã£ãŸã€‚\nalpineã ã¨mysqlclientã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ãŸã‚ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒè¶³ã‚Šãªã„ã¿ãŸã„\u0026hellip;\nã„ãšã‚Œalpineã«ã—ã¦å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã¿addã—ã¦ã„ã„æ„Ÿã˜ã«ã—ãŸã„ã€‚\nã¾ãŸã€æœ€åˆä½•ã‚‚è€ƒãˆãšã«flask runã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã„ãŸã›ã„ã§ãƒ­ãƒ¼ã‚«ãƒ«ã‹ã‚‰æ¥ç¶šã§ããªã„äº‹æ…‹ã«é™¥ã£ãŸã€‚hostã‚’æŒ‡å®šã›ãšã«èµ·å‹•ã™ã‚‹ã¨http://127.0.0.1:5000ã§èµ·å‹•ã™ã‚‹ã®ã ãŒã€ã‚³ãƒ³ãƒ†ãƒŠã«å‰²ã‚Šå½“ã¦ã‚‰ã‚ŒãŸIPã‚¢ãƒ‰ãƒ¬ã‚¹ã¯åˆ¥ã®IPãªã®ã§ãƒ­ãƒ¼ã‚«ãƒ«ã‹ã‚‰æ¥ç¶šã§ããªã‹ã£ãŸã€‚\nã†ã£ã‹ã‚Šã—ã¦ãŸww\nã‚³ãƒ³ãƒ†ãƒŠã‹ã‚‰èµ·å‹•ã™ã‚‹ã¨ãã¯--hostã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¤ã‘ã¦ã€ã‚³ãƒ³ãƒ†ãƒŠã«å‰²ã‚Šå½“ã¦ã‚‰ã‚ŒãŸIPã‚¢ãƒ‰ãƒ¬ã‚¹ã‹0.0.0.0ã§èµ·å‹•ã™ã‚‹ã‚ˆã†ã«ã€‚\nã‚½ãƒ¼ã‚¹ ã‚½ãƒ¼ã‚¹ã¯ã“ã¡ã‚‰ã€‚\n","description":"","id":20,"section":"posts","tags":["docker"],"title":"flask + mysql ã®ç’°å¢ƒã‚’Dockerï¼ˆdocker-composeï¼‰ã§æ§‹ç¯‰ã™ã‚‹","uri":"https://www.anypalette.com/ja/posts/20191201_flask-docker/"},{"content":"ã“ã®è¨˜äº‹ã¯2019/09/24ã«Qrunchã«æ²è¼‰ã—ãŸå†…å®¹ã§ã™ã€‚\nï¼ˆQrunchã®ã‚µãƒ¼ãƒ“ã‚¹çµ‚äº†ã«ä¼´ã„ã“ã¡ã‚‰ã«å¼•ã£è¶Šã—ã—ã¾ã—ãŸï¼‰  èƒŒæ™¯ APIã‚’é–‹ç™ºã™ã‚‹ã¨ãã€è‰²ã€…ãªãƒ„ãƒ¼ãƒ«ãŒã‚ã‚Šã©ã‚Œã‚’ä½¿ãˆã°ã„ã„ã®ã‹ã€\nãã‚Œãã‚Œã©ã®ã‚ˆã†ãªç‰¹å¾´ãŒã‚ã‚‹ã®ã‹ã‚ˆãã‚ã‹ã‚‰ãšè¿·ã„ã¾ã—ãŸã€‚\nã„ãã¤ã‹å®Ÿéš›ã«ä½¿ã£ã¦ã¿ãŸæ„Ÿæƒ³ã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚\nãã®ã†ã¡ã€ãã‚Œãã‚Œã®ä½¿ã„æ–¹ã«ã¤ã„ã¦åˆ¥é€”ã¾ã¨ã‚ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nè¨­è¨ˆæ›¸ç·¨ Swagger æœ‰åãªã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€‚Web APIé–‹ç™ºã™ã‚‹äººã¯çµæ§‹çŸ¥ã£ã¦ã„ã‚‹äººã‚‚å¤šã„ã‹ã¨æ€ã„ã¾ã™ã€‚\nSwaggerã«ã¯ã„ãã¤ã‹ç¨®é¡ãŒã‚ã‚Šã¾ã™ã€‚\n Swagger Editorï¼šWebä¸Šã§ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ã¿ãªãŒã‚‰ä¿®æ­£ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ Swagger UIï¼šæŒ‡å®šã®yaml, jsonãƒ•ã‚¡ã‚¤ãƒ«ã‚’å…ƒã«APIãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã‚’Webä¸Šã«è¡¨ç¤ºã™ã‚‹ã“ã¨ãŒå¯èƒ½ã€‚å©ã„ã¦ã¿ãŸã„APIã‚’é¸æŠã—ã€Webä¸Šã‹ã‚‰å®Ÿè¡Œã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ã€‚  ãŠæ‰‹è»½ã«Webã‹ã‚‰åˆ©ç”¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ãŒã€Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ãŒè»¢ãŒã£ã¦ã„ã‚‹ã®ã§ãƒ­ãƒ¼ã‚«ãƒ«ã«Swaggerã‚³ãƒ³ãƒ†ãƒŠã‚’Docker Hubï¼ˆSwaggerï¼‰ç«‹ã¦ã¦åˆ©ç”¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚ä½¿ã£ã¦ã¿ãŸã„ã‘ã©ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£çš„ã«Webã‹ã‚‰ä½¿ã†ã£ã¦æŠµæŠ—ã‚ã‚‹ãª\u0026hellip;ã¨ã„ã†æ–¹ã‚„ã€ãƒãƒ¼ãƒ ã§å…±æœ‰ã™ã‚‹ã¨ãã«Swaggerã‚µãƒ¼ãƒã‚’1å°ç«‹ã¦ã¦ãŠãã¨éå¸¸ã«ä¾¿åˆ©ã§è‰¯ã„ã¨æ€ã„ã¾ã™ã€‚\nã¾ãŸã€VsCodeã‚’ãŠä½¿ã„ã®æ–¹ã¯å°‚ç”¨ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒã‚ã‚Šã¾ã™ã€‚\nç·¨é›†ã™ã‚‹ã ã‘ã§ã‚ã‚Œã°ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ååˆ†ã‹ã¨æ€ã„ã¾ã™ã€‚\nSwagger UIã§APIãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã‚’çœºã‚ã¦ã„ã‚‹ã¨ã€ã€Œã“ã‚Œãã®ã¾ã‚“ã¾APIå®šç¾©æ›¸ã«ã—ã¡ã‚ƒã„ãŸã„ã‚ã€ãªã‚“ã¦æ¬²ãŒå‡ºã¦ãã¾ã™ã€‚ãã‚“ãªã¨ãã¯ReDoc(GitHub)ãŒãŠã™ã™ã‚ã§ã™ã€‚\nSwaggerã§æ›¸ã„ãŸAPIå®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è‰¯ã•ã’ãªhtmlãƒ•ã‚¡ã‚¤ãƒ«ã«å¤‰æ›ã—ã¦ãã‚Œã¾ã™ã€‚ä¾‹\nãã®ã»ã‹ã«ã‚‚Swaggerã‹ã‚‰ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç”Ÿæˆã™ã‚‹ãƒ„ãƒ¼ãƒ«ãŒã„ãã¤ã‹ã‚ã‚‹ã‚ˆã†ã§ã™ã€‚\nã“ã¡ã‚‰ ã®è¨˜äº‹ã«ã‚ã‹ã‚Šã‚„ã™ãã¾ã¨ã‚ã¦ãã‚Œã¦ã„ã¾ã™ã€‚\nRe:VIEW ã“ã¡ã‚‰ã¯APIã®è¨­è¨ˆæ›¸ã¨ç›´æ¥çš„ãªé–¢ä¿‚ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€è¨­è¨ˆæ›¸ã‚’æ›¸ãã“ã¨ã«ãŠã„ã¦éå¸¸ã«ä¾¿åˆ©ãªãƒ„ãƒ¼ãƒ«ã§ã™ã®ã§åˆã‚ã›ã¦ã”ç´¹ä»‹ã—ã¾ã™ã€‚\nAPIå®šç¾©ã‚’å†…éƒ¨ã§åˆ©ç”¨ã™ã‚‹ã ã‘ã§ã‚ã‚Œã°ReDocã®ã‚ˆã†ãªãƒ„ãƒ¼ãƒ«ã‹ã‚‰ç”Ÿæˆã—ãŸHTMLãƒ•ã‚¡ã‚¤ãƒ«ã ã‘ã§è‰¯ã„ã§ã™ãŒã€ãŠå®¢æ§˜ã«ã‚ˆã£ã¦ã¯ã‹ã£ã¡ã‚Šã¨ã—ãŸAPIè¨­è¨ˆæ›¸ã®æå‡ºã‚’æ±‚ã‚ã‚‰ã‚Œã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚\nç§ã®è·å ´ã§ã¯è¨­è¨ˆæ›¸ã¯wordã§æ›¸ãä¸Šã’ã‚‹ã®ãŒä¸€èˆ¬çš„ã§ã—ãŸãŒã€é¢å€’ã«æ„Ÿã˜ã‚‹ã“ã¨ãŒå¤šã€…ã‚ã‚Šã¾ã™\u0026hellip;\nãã‚“ãªã¨ãã«ãŠã™ã™ã‚ãªã®ãŒRe:VIEWã§ã™ã€‚\nRe:VIEWç”¨ã®MarkDownå½¢å¼ã§æ›¸ã„ãŸæ–‡æ›¸ã‚’è‰¯ã•ã’ã«PDFåŒ–ã—ã¦ãã‚Œã¾ã™ã€‚\n(ä»–ã«ã‚‚ãŸãã•ã‚“ã®æ©Ÿèƒ½ãŒã‚ã‚Šã¾ã™ãŒã€PDFåŒ–ã—ã¦ãã‚Œã‚‹æ©Ÿèƒ½ã‚‚ã‚‚ã£ã¦ã„ã¾ã™)\nlinterãªã©ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šæ–‡æ›¸æ ¡æ­£ã‚‚å¯èƒ½ã§ã™ã€‚\nå°‚ç”¨ã®Dockerãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ã‚ã‚Šã¾ã™ã®ã§ã€é¢å€’ãªç’°å¢ƒæ§‹ç¯‰ã‚‚ã™ã‚‹ã“ã¨ãªãåˆ©ç”¨ãŒå¯èƒ½ã§ã™ã€‚\n(Docker Hub)\nPlant UML ã“ã¡ã‚‰ã‚‚APIã®è¨­è¨ˆæ›¸ã¨ç›´æ¥çš„ãªé–¢ä¿‚ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nã“ã‚Œã‚’çŸ¥ã£ã¦ã‚‹ã‹ã©ã†ã‹ã§è¨­è¨ˆæ›¸ä¿®æ­£ã®ã‚³ã‚¹ãƒˆã‚’ã ã„ã¶ä¸‹ã’ã‚‹ã“ã¨ãŒã§ãã‚‹ï¼ˆã‹ã‚‚ã—ã‚Œãªã„ï¼‰ã¨æ€ã„ã¾ã™(plantUMLå…¬å¼HP)ã€‚\nã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³ã‚„ã‚¯ãƒ©ã‚¹å›³ã‚’ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã§æ›¸ãã“ã¨ãŒã§ãã¾ã™ã€‚\nè¨­è¨ˆå†…å®¹ã‚’ã‚³ãƒ¼ãƒ‰åŒ–ã™ã‚‹ã“ã¨ã§Gitã§ã®ç®¡ç†ãŒå¯èƒ½ã¨ãªã‚‹ã®ãŒå¤§ããªåˆ©ç‚¹ã ã¨æ€ã„ã¾ã™ã€‚\næ‰‹æ›¸ãé¢¨ã¨ã‹è‰²ã‚’å¤‰ãˆãŸã‚Šã¨ã‹ã€è¦‹ãŸç›®ã‚‚å°‘ã—ã„ã˜ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nä¼¼ãŸã‚ˆã†ãªã‚‚ã®ã«mermaid jsã¨ã„ã†ã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚\nã“ã®è¾ºã¯å¥½ã¿ã‹ã¨æ€ã„ã¾ã™ã€‚\nã¾ã¨ã‚  APIå…¨ä½“ã®æ§‹æˆã‚„ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã®è¨­è¨ˆï¼šPlantUML, mermaid js APIãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã‚„ãƒ¢ãƒƒã‚¯ã®ä½œæˆï¼šSwagger, (å¿…è¦ã«å¿œã˜ã¦)ReDoc ãŠå®¢æ§˜ã¸åˆ¥é€”è³‡æ–™ã®æå‡ºãŒå¿…è¦ãªå ´åˆï¼šRe:VIEW  ã¨ã„ã†ã‚ˆã†ãªä½¿ã„åˆ†ã‘ãŒè‰¯ã„ã‹ã¨æ€ã„ã¾ã™ã€‚\n","description":"","id":21,"section":"posts","tags":["tool"],"title":"APIé–‹ç™ºãŒæ—ã‚‹ãƒ„ãƒ¼ãƒ«ãŸã¡ï¼ˆè¨­è¨ˆæ›¸ç·¨ï¼‰","uri":"https://www.anypalette.com/ja/posts/20190924_apitool/"},{"content":"ã“ã®è¨˜äº‹ã¯2019/09/26ã«Qrunchã«æ²è¼‰ã—ãŸå†…å®¹ã§ã™ã€‚\nï¼ˆQrunchã®ã‚µãƒ¼ãƒ“ã‚¹çµ‚äº†ã«ä¼´ã„ã“ã¡ã‚‰ã«å¼•ã£è¶Šã—ã—ã¾ã—ãŸï¼‰  èƒŒæ™¯ DBï¼ˆMySQLï¼‰ã®æ€§èƒ½è©¦é¨“ã‚’ã—ã¦ã„ã‚‹ã¨ãã«ã€ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’ç´ æ—©ãç©ã¿è¾¼ã¿ãŸã„æƒ³ã„ã«é§†ã‚‰ã‚Œã¾ã—ãŸã€‚\nçµæœã€ç§çš„ã«ã¯tmpãƒ†ãƒ¼ãƒ–ãƒ«ã¨MySQLã®ãƒ©ãƒ³ãƒ€ãƒ é–¢æ•°ã‚’åˆ©ç”¨ã—ãŸãƒ‡ãƒ¼ã‚¿ã®æŠ•å…¥ãŒä¸€ç•ªæ—©ã„ã‚„ã‚“ww ã¨ãªã‚Šã¾ã—ã¦ã€‚\nãã®è©±ã‚‚ã¾ãŸã„ãšã‚Œ\u0026hellip;\nçŸ¥ã£ã¦ãŠãã¨ä¾¿åˆ©ãªSQLãªã®ã§ã€å‚™å¿˜ã‚‚å…¼ã­ã¦ã¾ã¨ã‚ã¾ã—ãŸã€‚\nã¡ãªã¿ã«MySQLã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ„ãƒ¼ãƒ«ã¯sequelãŒãŠã™ã™ã‚ã§ã™ã€‚\næœ¬å®¶ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚¢ãƒ—ãƒªMySQL Workbenchã‚‚ã‚ã£ã¡ã‚ƒã„ã„ã§ã™ãŒã€ã‚µã‚¯ãƒƒã¨ä½¿ã„ãŸã„äººã¯sequelã§ååˆ†ã§ã™ã€‚ã€€ãƒ©ãƒ³ãƒ€ãƒ ãƒ‡ãƒ¼ã‚¿ç”ŸæˆSQL ãƒ­ãƒ¼ã‚«ãƒ«ã§ã•ã£ãã‚Šè©¦ã—ã¦ã¿ãŸã„ã‘ã©ç’°å¢ƒæ§‹ç¯‰ãŒ\u0026hellip;ã¨ã„ã†æ–¹ã®ãŸã‚ã€å¾Œè¿°ã§MySQLã‚’ã‚³ãƒ³ãƒ†ãƒŠã§ç«‹ã¦ã‚‹æ–¹æ³•ã‚’è¨˜è¼‰ã—ã¦ã¾ã™ã‚ˆã‹ã£ãŸã‚‰å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚\nã¡ãªã¿ã«MySQLã§è¤‡æ•°ã®æ–‡å­—åˆ—ã‚’çµåˆã—ã¦å‡ºåŠ›ã—ãŸã„å ´åˆã¯concatã‚’ä½¿ã†ã¨ã‚ˆã‹ã§ã™ã€‚\n1 2 3 4 5 6  mysql\u0026gt;selectconcat(\u0026#39;SAM\u0026#39;,\u0026#39;PLE\u0026#39;,\u0026#39;00001\u0026#39;);+-------------------------------+ |concat(\u0026#39;SAM\u0026#39;,\u0026#39;PLE\u0026#39;,\u0026#39;00001\u0026#39;)|+-------------------------------+ |SAMPLE00001|+-------------------------------+   select xxxã¨ã„ã†æ›¸ãæ–¹ã¯echoçš„ãªã“ã¨ãŒã—ãŸã„ãªãã¨ã„ã†æ™‚ã«ä½¿ãˆã‚‹ã®ã§ã€è¦šãˆã¦ãŠãã¨ä¾¿åˆ©ãã†ã§ã™ã€‚\nãƒ©ãƒ³ãƒ€ãƒ ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆï¼ˆæ–‡å­—åˆ—ç·¨ï¼‰ è‹±å°æ–‡å­— + æ•°å­— 32æ¡ã¾ã§ã®ãƒ©ãƒ³ãƒ€ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆã™ã‚‹å ´åˆã¯uuid()é–¢æ•°ã‚’åˆ©ç”¨ã™ã‚‹ã®ãŒä¸€ç•ªæ¥½ã§ã™ã€‚\nå¾Œè¿°ã™ã‚‹ãƒã‚§ãƒƒã‚¯ã‚µãƒ ã‚’åˆ©ç”¨ã™ã‚‹æ–¹æ³•ã ã¨ç©ã¿ã“ã‚€ãƒ‡ãƒ¼ã‚¿ã®é‡ã‚„é•·ã•ã‚ˆã£ã¦ã¯é‡è¤‡ãŒçµæ§‹ç™ºç”Ÿã—ã¦é¢å€’ã§ã™ï¼ˆç§ã®ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆæ–¹æ³•ãŒæ‚ªã„ã®ã‹\u0026hellip;ï¼‰ã€‚\n1 2 3 4 5 6  mysql\u0026gt;selectconcat(LEFT(REPLACE(uuid(),\u0026#39;-\u0026#39;,\u0026#39;\u0026#39;),8))asRandomData;+------------+ |RandomData|+------------+ |db8a8aff|+------------+   ãƒã‚§ãƒƒã‚¯ã‚µãƒ ã‚’åˆ©ç”¨ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆã™ã‚‹å ´åˆã¯ã“ã¡ã‚‰\n1 2 3 4 5 6  mysql\u0026gt;selectconcat(LEFT(MD5(RAND()*100+1),8))asRandomData;+------------+ |RandomData|+------------+ |678b5019|+------------+   å„é–¢æ•°ã®è©³ç´°ã¯MySQLã®å…¬å¼ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\n RAND MD5  ã–ã£ãã‚Šèª¬æ˜ã™ã‚‹ã¨ã€1.xxx ~ 100.xxx ã®å°‘æ•°ã‚’ç”Ÿæˆã—ã€MD5é–¢æ•°ã‚’ä½¿ã£ãŸãƒã‚§ãƒƒã‚¯ã‚µãƒ ã‚’ç”Ÿæˆã€ç”Ÿæˆã—ãŸãƒã‚§ãƒƒã‚¯ã‚µãƒ ã®å·¦ã‹ã‚‰å¼•æ•°ã«æŒ‡å®šã—ãŸæ¡æ•°ï¼ˆä»Šå›ã¯6æ¡ï¼‰åˆ†åˆ‡ã‚Šå–ã£ã¦è¿”å´ã—ã¦ã„ã¾ã™ã€‚\nã“ã®æ–¹æ³•ã ã¨è‹±èªã®å¤§æ–‡å­—ã‚„è¨˜å·å…¥ã‚Šã¾ã›ã‚“ã€‚\nå›ºå®šé•·ã§ã„ã„ã‹ã‚‰å¤§æ–‡å­—ã‚„è¨˜å·ã‚’å…¥ã‚ŒãŸã„æ™‚ã¯ã“ã‚“ãªæ„Ÿã˜ã§ãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆã™ã‚Œã°è‰¯ã„ã§ã™ã€‚\n1 2 3 4 5 6  mysql\u0026gt;selectconcat(\u0026#39;SAMPLE_\u0026#39;,LEFT(MD5(RAND()*100+1),6))asRandomData;+---------------+ |RandomData|+---------------+ |SAMPLE_cc0c31|+---------------+   ç‰¹å®šã®æ–‡å­—ç¨®ã‚’åˆ©ç”¨ã—ãŸãƒ©ãƒ³ãƒ€ãƒ ãƒ‡ãƒ¼ã‚¿ RAND() * n ã®n ã«ã¯å®šç¾©ã—ãŸæ–‡å­—ç¨®ã®æ¡æ•°ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚\n1 2 3 4 5 6 7 8 9  mysql\u0026gt;selectCONCAT(substring(\u0026#39;ã‚ã„ã†ãˆãŠabcde12345\u0026#39;,CEIL(RAND()*15),1)-\u0026gt;,substring(\u0026#39;ã‚ã„ã†ãˆãŠabcde12345\u0026#39;,CEIL(RAND()*15),1)-\u0026gt;,substring(\u0026#39;ã‚ã„ã†ãˆãŠabcde12345\u0026#39;,CEIL(RAND()*15),1)-\u0026gt;)asRandomData;+------------+ |RandomData|+------------+ |53ãˆ|+------------+   mysqlã®ãƒ¦ãƒ¼ã‚¶å®šç¾©å¤‰æ•°ã‚’ä½¿ã†ã¨å°‘ã—ã ã‘å®Ÿè¡ŒãŒæ¥½ã«ãªã‚Šã¾ã™ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  mysql\u0026gt;SET@var1=\u0026#39;ã‚ã„ã†ãˆãŠabcde12345\u0026#39;;QueryOK,0rowsaffected(0.00sec)mysql\u0026gt;select@var1;+---------------------------+ |@var1|+---------------------------+ |ã‚ã„ã†ãˆãŠabcde12345|+---------------------------+ mysql\u0026gt;selectCONCAT(substring(@var1,CEIL(RAND()*15),1)-\u0026gt;,substring(@var1,CEIL(RAND()*15),1)-\u0026gt;,substring(@var1,CEIL(RAND()*15),1)-\u0026gt;)asRandomData;+------------+ |RandomData|+------------+ |ã‚ã‚ã‚|+------------+   ãƒ©ãƒ³ãƒ€ãƒ ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆï¼ˆæ•°å­—ç·¨ï¼‰ 1~100 ã¾ã§\n1 2 3 4 5 6  mysql\u0026gt;selectconcat(ceil(rand()*100+0))asRandomData;+------------+ |RandomData|+------------+ |51|+------------+   1001 ~ 1099 ã¾ã§\n1 2 3 4 5 6  mysql\u0026gt;SELECTCONCAT(CEIL(RAND()*99+1000))asRandomData;+------------+ |RandomData|+------------+ |1085|+------------+   ãƒ©ãƒ³ãƒ€ãƒ ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆï¼ˆæ—¥ä»˜ç·¨ï¼‰ 1 2 3 4 5 6  mysql\u0026gt;selectFROM_UNIXTIME(UNIX_TIMESTAMP(\u0026#39;2019-03-01 00:00:00\u0026#39;)+FLOOR(0+(RAND()*86400)))asRandomData;+---------------------+ |RandomData|+---------------------+ |2019-03-0117:32:54|+---------------------+   86400ã¯1æ—¥é–“ã®ç§’æ•°24*60*60 = 86400ã§ã™ã€‚\nã‚µã‚¯ãƒƒã¨ãŠè©¦ã—ç’°å¢ƒæ§‹ç¯‰æ‰‹é † ä¸€å¿œMySQLã®ç’°å¢ƒæ§‹ç¯‰è¨­å®šã‚‚ãƒ¡ãƒ¢ã—ã¾ã™ã€‚\nã‚³ãƒ³ãƒ†ãƒŠï¼ˆdocker-composeï¼‰ã§æ§‹ç¯‰ã—ã¾ã™ã€‚\ndocker-composeãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  version:\u0026#39;3\u0026#39;services:# MySQLdb:image:mysql:5.7container_name:mysql_hostenvironment:MYSQL_ROOT_PASSWORD:rootMYSQL_DATABASE:test_databaseMYSQL_USER:dockerMYSQL_PASSWORD:dockerTZ:\u0026#39;Asia/Tokyo\u0026#39;command:mysqld --character-set-server=utf8mb4 --collation-server=utf8mb4_binvolumes:- ./db/data:/var/lib/mysql- ./db/my.cnf:/etc/mysql/conf.d/my.cnf- ./db/sql:/docker-entrypoint-initdb.dports:- 3306:3306  ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹• ä½œæˆã—ãŸdocker-compose.yamlãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹ãƒ‘ã‚¹ä¸Šã§docker-compose upã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã€‚\nmysqlãŒç«‹ã¡ä¸ŠãŒã£ãŸã‚‰ãƒ­ãƒ¼ã‚«ãƒ«ã‹ã‚‰mysql -uroot -h\u0026lt;hostnameã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œçµæœå\u0026gt; -pã§å®Ÿè¡Œã—ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯rootã‚’å…¥ã‚Œã¦ã‚ã’ã‚Œã°å…¥ã‚Œã‚‹ã¨æ€ã„ã¾ã™ã€‚\nmysql-clientã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã„ãªã„å ´åˆã¯ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã‹ã‚‰å®Ÿè¡Œã™ã‚‹ã‹ã€docker exec -it ã§mysqlã®ã‚³ãƒ³ãƒ†ãƒŠã«ã‚¢ã‚¿ãƒƒãƒã—ã¦ãã ã•ã„ã€‚\n","description":"","id":22,"section":"posts","tags":["mysql"],"title":"MySQLã§ãƒ©ãƒ³ãƒ€ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆã—ãŸã„","uri":"https://www.anypalette.com/ja/posts/20190926_mysql-randamdata/"}]